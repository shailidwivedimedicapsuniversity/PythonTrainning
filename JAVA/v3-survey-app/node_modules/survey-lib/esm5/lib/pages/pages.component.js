/**
 * @fileoverview added by tsickle
 * Generated from: lib/pages/pages.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';
import { PagesService } from '../shared/pages-services/pages.service';
import { SurveyContent } from './pages.model';
import { SurveyResponseModel } from './survey-response.model';
import { SurveyLibService } from '../survey-lib.service';
var PagesComponent = /** @class */ (function () {
    function PagesComponent(pagesService, surveyLibServices) {
        this.pagesService = pagesService;
        this.surveyLibServices = surveyLibServices;
        /*@Input()
          public pagesModel: PagesModel;*/
        this.surveyResponseEmitter = new EventEmitter();
        this.WELCOME_PAGE = 'Welcome page';
        this.QUESTIONNAIRE_PAGE = 'Questionnaire page';
        this.THANK_YOU_PAGE = 'Thank you page';
    }
    /**
     * @return {?}
     */
    PagesComponent.prototype.nextPage = /**
     * @return {?}
     */
    function () {
        var _this = this;
        console.log('inside nextPage Pages.component');
        this.animateExitNext(this.WELCOME_PAGE);
        setTimeout((/**
         * @return {?}
         */
        function () {
            _this.pagesService.stage = 'entry-next';
            _this.surveyLibServices.currentElement.currentPageIndex = _this.surveyLibServices.currentElement.currentPageIndex + 1;
            _this.surveyLibServices.currentElementEventEmitter.emit(_this.surveyLibServices.currentElement);
        }), 400);
    };
    /**
     * @return {?}
     */
    PagesComponent.prototype.previousPage = /**
     * @return {?}
     */
    function () {
        this.surveyLibServices.currentElement.currentPageIndex = this.surveyLibServices.currentElement.currentPageIndex - 1;
        this.surveyLibServices.currentElementEventEmitter.emit(this.surveyLibServices.currentElement);
    };
    /**
     * @return {?}
     */
    PagesComponent.prototype.submitSurvey = /**
     * @return {?}
     */
    function () {
        console.log('In submit survey');
        if (this.surveyLibServices.currentElement.currentPageIndex != this.surveyContent.pages.length - 1) {
            this.surveyLibServices.currentElement.currentPageIndex++;
        }
        else {
            this.surveyLibServices.defaultThankYouPage = true;
        }
        console.log(JSON.stringify(this.pagesService.surveyResponses));
        this.surveyResponseEmitter.emit(this.pagesService.surveyResponses);
        /* console.log(response);
         this.surveyLibServices.currentElement.currentPageIndex = this.surveyLibServices.currentElement.currentPageIndex + 1;
         this.surveyResponseModel.surveyResponses = response;*/
        /*this.submitSurveySubscription = this.pagesService.submitSurvey(this.surveyResponseModel)
          .subscribe(response => console.log(response), error => console.log(error));*/
    };
    /**
     * @return {?}
     */
    PagesComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.setThemeForSurvey();
        this.surveyResponseModel = new SurveyResponseModel();
        this.surveyLibServices.currentElementEventEmitter.emit(this.surveyLibServices.currentElement);
        this.fontUrl = this.surveyContent.selectedTheme.font.url;
    };
    /**
     * @private
     * @return {?}
     */
    PagesComponent.prototype.setThemeForSurvey = /**
     * @private
     * @return {?}
     */
    function () {
        /*//this.cssUrl = '/assets/'+this.theme+'.css';
        this.cssUrl = '/assets/theme4.css';
        let element;
        element = document.createElement('link');
        element.rel = 'stylesheet';
        element.type = 'text/css';
        element.href = this.cssUrl;
        document.getElementsByTagName('head')[0].appendChild(element);*/
    };
    /**
     * @return {?}
     */
    PagesComponent.prototype.previousQuestion = /**
     * @return {?}
     */
    function () {
        this.pagesService.previousQuestion.emit();
    };
    /**
     * @return {?}
     */
    PagesComponent.prototype.nextQuestion = /**
     * @return {?}
     */
    function () {
        this.pagesService.nextQuestion.emit();
    };
    /**
     * @return {?}
     */
    PagesComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.getSurveySubscription != null && !this.getSurveySubscription.closed) {
            this.getSurveySubscription.unsubscribe();
        }
        if (this.submitSurveySubscription != null && !this.submitSurveySubscription.closed) {
            this.submitSurveySubscription.unsubscribe();
        }
    };
    /**
     * @param {?} questionIndex
     * @return {?}
     */
    PagesComponent.prototype.goTo = /**
     * @param {?} questionIndex
     * @return {?}
     */
    function (questionIndex) {
        this.nextQuestion();
        /** @type {?} */
        var number = this.surveyLibServices.currentElement.currentQuestionIndex - questionIndex;
        console.log(number);
        console.log('Clicked question index: ' + questionIndex);
    };
    /**
     * @private
     * @param {?} questionType
     * @return {?}
     */
    PagesComponent.prototype.animateExitNext = /**
     * @private
     * @param {?} questionType
     * @return {?}
     */
    function (questionType) {
        console.log("inside animateExitNext");
        console.log(questionType);
        if (questionType == 'Welcome page') {
            console.log("inside if statement in animateExitNext method");
            console.log(document.getElementById('welcome-page').className);
            document.getElementById('welcome-page').classList.remove('entry-next');
            console.log(document.getElementById('welcome-page').className);
            document.getElementById('welcome-page').className = 'exit-next';
            document.getElementById('welcome-page-delay').className = 'exit-next-delay';
            console.log(document.getElementById('welcome-page').className);
        }
    };
    PagesComponent.decorators = [
        { type: Component, args: [{
                    selector: 'app-pages',
                    template: "<!--<link rel=\"stylesheet\" [href]='sanitizer.bypassSecurityTrustResourceUrl(cssUrl)'>-->\n<!--<div *ngIf=\"testMode\">\n  <span class=\"badge-test-mode\">Test mode</span>\n</div>-->\n\n<!--<button (click)=\"currentState()\">Current State</button>-->\n\n<div class=\"survey-container\">\n\n  <div class=\"survey-container-wrap\" *ngIf=\"!surveyLibServices.defaultThankYouPage\">\n    <img class=\"org-logo\" [src]=\"surveyContent.organizationLogo\" [ngStyle]=\"{'visibility' : surveyContent.organizationLogo == undefined ? 'hidden' :'visible'}\"\n      alt=\"\">\n    <app-welcome-page  [welcomePage]=\"surveyContent.pages[surveyLibServices.currentElement.currentPageIndex]\" *ngIf=\"surveyContent.pages[surveyLibServices.currentElement.currentPageIndex].pageName == WELCOME_PAGE\"\n      (nextPageEvent)=\"nextPage()\">\n    </app-welcome-page>\n\n    <app-questionnaire\n      (submitResponse)=\"submitSurvey()\"\n      [questionnairePage]=\"surveyContent.pages[surveyLibServices.currentElement.currentPageIndex]\"\n      *ngIf=\"surveyContent.pages[surveyLibServices.currentElement.currentPageIndex].pageName == QUESTIONNAIRE_PAGE\"\n      (previousPageEvent)=\"previousPage()\"></app-questionnaire>\n\n    <app-thank-you-page\n      [thankYouPage]=\"surveyContent\n      .pages[surveyLibServices.currentElement.currentPageIndex]\"\n      *ngIf=\"surveyContent.pages[surveyLibServices.currentElement.currentPageIndex]\n      .pageName == THANK_YOU_PAGE\">\n    </app-thank-you-page>\n<!--\n    <button class=\"btn-primary\" *ngIf=\"surveyLibServices.enableSubmit\" (click)=\"submitSurvey()\">Submit</button>\n-->\n  </div>\n  <app-default-thank-you-page\n    *ngIf=\"surveyLibServices.defaultThankYouPage\">\n  </app-default-thank-you-page>\n\n  <footer class=\"footer\">\n\n    <div class=\"footer-container\">\n\n      <div class=\"footer-left\" *ngIf=\"surveyContent.pages[surveyLibServices.currentElement.currentPageIndex].pageName == QUESTIONNAIRE_PAGE\">\n        <div class=\"progress-container\">\n         <p><span id=\"step-number\">0</span>/{{(surveyContent.pages[surveyLibServices.currentElement.currentPageIndex].questions.length)}} answered</p>\n          <div class=\"progress-bar\">\n            <progress id=\"progress\" [value]=\"pagesService.surveyResponses !== undefined ? pagesService.surveyResponses.length : 0\" [max]=\"surveyContent.pages[surveyLibServices.currentElement.currentPageIndex].questions.length\"></progress>\n          </div>\n        </div>\n      <div class=\"arrowUp-arrowDown-container\">\n        <button class=\"arrowUp-arrowDown-btn\"\n                [disabled]=\"surveyLibServices.isQuestionCardCampaign && pagesService.sequenceOfQuestionTraversed.length < 3\"\n                (click)=\"previousQuestion()\">\n          <span class=\"arrowDown\"></span>\n        </button>\n          <button class=\"arrowUp-arrowDown-btn\"\n                  (click)=\"nextQuestion()\">\n            <span class=\"arrowUp\"></span>\n        </button>\n        <!--<button class=\"btn up-dwn\" (click)=\"previousQuestion()\">&#11165;</button>-->\n        <!--<button class=\"btn up-dwn\" (click)=\"nextQuestion()\">&#11167;</button>-->\n      </div>\n\n      </div>\n\n      <div class=\"footer-right\">\n        <img [src]=\"'https://cdn.omoto.io/powered-by-omoto-60-x-30@2x.png'\" alt=\"powered by Omoto\">\n      </div>\n    </div>\n\n  </footer>\n\n\n\n</div>\n",
                    encapsulation: ViewEncapsulation.None,
                    styles: [":root{--white-25:rgba(255, 255, 255, 0.25);--font-family:'Ubuntu',sans-serif;--bg-color:#f4a06e;--primary-color:#004e89;--primary-color-dark:#001B56;--footer-bg-color:#f9cfb6;--footer-primary-color:#b98f76;--footer-secondary-color:#fce7da;--text-color-primary:#ffffff;--text-color-secondary:#4a4a4a;--primary-button-text-color:#fffff;--positiveTranslate:translateX(350px);--negativeTranslate:translateX(-350px);--negativeTranslate3D:translate3d(-350px,0,0)}*,:after,:before{box-sizing:inherit}body,html{margin:0;padding:0;height:100%;width:100%;box-sizing:border-box;transition:none!important}.entry-next{-webkit-animation:.6s cubic-bezier(.215,.61,.355,1) both animMoveRightToCurrent;animation:.6s cubic-bezier(.215,.61,.355,1) both animMoveRightToCurrent}.entry-next-delay{-webkit-animation:.6s cubic-bezier(.215,.61,.355,1) .1s both animMoveRightToCurrent;animation:.6s cubic-bezier(.215,.61,.355,1) .1s both animMoveRightToCurrent}@-webkit-keyframes animMoveRightToCurrent{from{opacity:0;-webkit-transform:var(--positiveTranslate)}to{opacity:1;-webkit-transform:translateY(0)}}@keyframes animMoveRightToCurrent{from{opacity:0;-webkit-transform:var(--positiveTranslate)}to{opacity:1;-webkit-transform:translateY(0)}}.exit-next{-webkit-animation:.6s cubic-bezier(.215,.61,.355,1) forwards animMoveCurrentToLeft;animation:.6s cubic-bezier(.215,.61,.355,1) forwards animMoveCurrentToLeft}.exit-next-delay{-webkit-animation:.6s cubic-bezier(.215,.61,.355,1) .1s forwards animMoveCurrentToLeft;animation:.6s cubic-bezier(.215,.61,.355,1) .1s forwards animMoveCurrentToLeft}@-webkit-keyframes animMoveCurrentToLeft{to{opacity:0;-webkit-transform:var(--negativeTranslate3D)}}@keyframes animMoveCurrentToLeft{to{opacity:0;-webkit-transform:var(--negativeTranslate3D);transform:var(--negativeTranslate3D)}}.entry-previous{-webkit-animation:.6s cubic-bezier(.215,.61,.355,1) both animMoveLeftToCurrent;animation:.6s cubic-bezier(.215,.61,.355,1) .1s both animMoveLeftToCurrent}.entry-previous-delay{-webkit-animation:.6s cubic-bezier(.215,.61,.355,1) .1s both animMoveLeftToCurrent;animation:.6s cubic-bezier(.215,.61,.355,1) .1s both animMoveLeftToCurrent}@-webkit-keyframes animMoveLeftToCurrent{from{opacity:0;-webkit-transform:var(--negativeTranslate)}to{opacity:1;-webkit-transform:translateY(0)}}@keyframes animMoveLeftToCurrent{from{opacity:0;-webkit-transform:var(--negativeTranslate);transform:var(--negativeTranslate)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.exit-previous{-webkit-animation:.6s cubic-bezier(.215,.61,.355,1) .1s forwards animMoveCurrentToRight;animation:.6s cubic-bezier(.215,.61,.355,1) .1s forwards animMoveCurrentToRight}.exit-previous-delay{-webkit-animation:.6s cubic-bezier(.215,.61,.355,1) forwards animMoveCurrentToRight;animation:.6s cubic-bezier(.215,.61,.355,1) forwards animMoveCurrentToRight}@-webkit-keyframes animMoveCurrentToRight{from{opacity:1;-webkit-transform:translateY(0)}to{opacity:0;-webkit-transform:var(--positiveTranslate)}}@keyframes animMoveCurrentToRight{from{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}to{opacity:0;-webkit-transform:var(--positiveTranslate);transform:var(--positiveTranslate)}}.input{border-radius:3px;padding:5px 0 5px 10px;color:var(--text-color-secondary);background-color:var(--white-25);font-size:.875rem;position:relative;box-shadow:1px 1px 3px 0 rgba(0,0,0,.5);height:31px}.select{cursor:pointer;position:relative;width:250px}.select .input:after,.select .input:before{content:'';position:absolute;left:calc(100% - 20px);-webkit-transform:translateY(-50%);transform:translateY(-50%);width:0;height:0}.select .input:before{border-top:5px solid var(--text-color-secondary);border-left:5px solid transparent;border-right:5px solid transparent;top:50%}.select .input:after{border-top:5px solid var(--white-25);border-left:5px solid transparent;border-right:5px solid transparent;top:calc(50% - 1px)}.select-options{position:absolute;width:100%;border-radius:4px;z-index:100;top:104%;left:0;display:none;overflow:hidden;box-shadow:1px 1px 3px 0 rgba(0,0,0,.5)}.select-options.visible{display:block;background-color:var(--white-25);z-index:1}.select-options ul{list-style:none;padding:0;margin:0}.select-options ul li{padding:5px 0 5px 10px;border-bottom:1px solid #ddd;font-size:.875rem;color:var(--text-color-secondary);background-color:var(--white-25);position:relative;overflow:hidden}.select-options ul li:hover{background-color:var(--primary-color);color:var(--text-color-primary)}.select-options ul li:last-child{border-bottom:0}.select-options ul li.selected{color:var(--text-color-primary);background-color:var(--primary-color);padding:5px 5px 5px 35px}.select-options ul li.selected:before{content:'';width:5px;height:10px;color:#000;border:2px solid var(--text-color-primary);border-right:0;border-bottom:0;right:calc(100% - 20px);top:50%;-webkit-transform:translateY(-50%) rotate(-135deg);transform:translateY(-50%) rotate(-135deg);position:absolute}.survey-container{font-weight:400;font-style:normal;font-stretch:normal;letter-spacing:normal;font-family:var(--font-family);line-height:1.5;background-color:var(--bg-color);height:calc(100vh - 80px);width:100%;overflow-y:auto;overflow-x:hidden;margin:0;padding:0}.survey-container-wrap{margin-left:auto;margin-right:auto;margin-bottom:10px;padding-top:8.18em;max-width:46.125em;color:var(--primary-color)}.skip-this-question{color:var(--text-color-secondary);cursor:pointer;font-size:.85em;clear:both}.skip-this-question-marginLeft{margin-left:2%}.skip-this-question:hover{color:var(--primary-color)}.question-description{margin-top:5px;font-size:14px}.footer{height:80px;position:absolute;bottom:0;width:100%;font-family:var(--font-family);background-color:var(--footer-bg-color)}.footer-container{position:absolute;bottom:0;left:50%;max-width:46.125em;width:46.125em;margin-left:-23.0625em}.footer-right{padding:15px 0;float:right}.footer-right img{width:81px}.footer-left{float:left;margin:10px 0 0}.progress-container{width:16.25em;display:inline-block}.progress-container p{margin:0;line-height:normal;font-size:.875rem;color:var(--footer-primary-color)}.progress-bar{width:100%;display:inline-block}.arrowUp-arrowDown-container{display:inline-block;margin:0 0 0 1em}.arrowUp-arrowDown-btn{width:25px;height:25px;background-color:var(--footer-bg-color);border-radius:3px;margin:0 10px 0 0;border:1px solid var(--footer-primary-color);cursor:pointer;padding:0}.arrowUp-arrowDown-btn:active{background:var(--footer-primary-color);outline:var(--footer-primary-color);color:var(--footer-secondary-color)}.arrowUp-arrowDown-btn:active span{border:solid var(--footer-secondary-color);border-width:0 2px 2px 0}.arrowUp-arrowDown-btn:focus{outline:var(--footer-primary-color)}.arrowUp-arrowDown-container span{border:solid var(--footer-primary-color);border-width:0 2px 2px 0;display:inline-block;padding:3px}.arrowUp{transform:rotate(-45deg);-webkit-transform:rotate(-45deg);margin-right:3px}.arrowDown{transform:rotate(135deg);-webkit-transform:rotate(135deg);margin-left:3px}progress{width:100%;border:1px solid var(--footer-primary-color);border-radius:14px}progress::-moz-progress-bar{border-radius:14px;background:var(--footer-primary-color);transition:.5s ease-out}progress::-webkit-progress-bar{border-radius:14px;background:var(--footer-secondary-color)}progress::-webkit-progress-value{border-radius:14px;background:var(--footer-primary-color);transition:.5s ease-out}.org-logo{display:block;max-width:250px;max-height:70px;min-height:50px}.welcome-thankyou-heading{font-size:1.75em;margin:2rem 0 0;font-weight:700}.welcome-thankyou-text{margin:0!important}.survey-statement{font-size:1.31em;font-weight:500;margin:2rem 0 0}.blink-btn-animation{-webkit-animation:.25s 2 blinkAnimation;animation:.25s 2 blinkAnimation}@-webkit-keyframes blinkAnimation{50%{opacity:.3}}@keyframes blinkAnimation{50%{opacity:.3}}.btn-primary{margin:1.56em 0 0;border-radius:4px;text-align:center;background-color:var(--primary-color);border:1px solid var(--primary-color);font-size:1rem;min-width:7.31em;min-height:2.5em;color:var(--primary-button-text-color);font-family:var(--font-family);cursor:pointer}.btn-primary:focus{background-color:var(--primary-color-dark);border:1px solid var(--primary-color-dark);outline:0}.btn-primary:hover{box-shadow:0 11px 22px -6px rgba(0,0,0,.5)}.btn-primary:active{background-color:var(--primary-color-dark)}.btn-secondary{border-radius:4px;margin:10px 10px 0 0;cursor:pointer;color:var(--text-color-secondary);border:1px solid var(--white-25);background-color:var(--white-25);font-family:var(--font-family);font-size:1rem;box-shadow:1px 1px 3px 0 rgba(0,0,0,.5);transition:.3s}.btn-secondary:hover{box-shadow:0 0 3px 0 var(--primary-color);border:solid 1px var(--primary-color)}.btn-secondary:focus{background-color:var(--primary-color);color:var(--text-color-primary);border:var(--primary-color);outline:0;box-shadow:none}.btn-secondary:active{background-color:var(--primary-color);box-shadow:1px 1px 5px 1px rgba(0,0,0,.5);outline:0}.btn-focused-state{background-color:var(--primary-color);color:var(--text-color-primary);border:var(--primary-color);outline:0;box-shadow:none}.checkmark{display:inline-block;-webkit-transform:rotate(45deg);transform:rotate(45deg);height:16px;width:9px;border-bottom:3px solid var(--text-color-secondary);border-right:3px solid var(--text-color-secondary)}.checkmark-checked{border-bottom:3px solid var(--text-color-primary);border-right:3px solid var(--text-color-primary)}.crossmark{position:relative;display:inline-block;margin-bottom:7px;margin-right:25px}.crossmark:after{position:absolute;content:'';display:block;width:18px;height:0;border:solid var(--text-color-secondary);border-width:0 0 3px;-webkit-transform:rotate(45deg);transform:rotate(45deg);left:0;top:0}.crossmark:before{position:absolute;content:'';display:block;width:18px;height:0;border:solid var(--text-color-secondary);border-width:0 0 3px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);left:0;top:0}.crossmark-checked:after,.crossmark-checked:before{border:solid var(--text-color-primary);border-width:0 0 3px}.nps-btn-group{display:flex;justify-content:space-between;width:75%;margin:7px 0 0}.nps-btn{width:40px;height:40px;font-size:1.5em;line-height:1.19;margin:0}.nps-btn-focus{background-color:var(--primary-color);color:var(--text-color-primary);border:var(--primary-color);outline:0;box-shadow:none}.nps-legend{margin:5px 0 0;font-size:.75em;color:var(--text-color-secondary);position:relative;width:75%}#left-nps-label{position:absolute;width:8%;left:0}#center-nps-label{position:absolute;width:8%;left:47.5%}#right-nps-label{position:absolute;width:8%;right:0;text-align:end}.multiple-choice{width:320px;min-height:32px;margin:7px 0 0;padding:5px 0 0 7px;font-size:.875em;display:block;border-radius:4px;border:1px solid var(--white-25);box-shadow:1px 1px 3px 0 rgba(0,0,0,.5);color:var(--text-color-secondary);transition:.3s;background-color:var(--white-25);cursor:pointer}.multiple-choice-checkbox{display:none}.multiple-choice-checkbox:checked+span{background-color:var(--primary-color);color:var(--text-color-primary);border:none;box-shadow:none}.survey-input-textarea{width:95%;min-height:5em;max-height:21em;font-size:.875rem;color:var(--text-color-secondary);margin:7px 0 0;padding:6px 0 0 5px;display:block;background-color:var(--white-25);border:var(--white-25);resize:vertical;font-family:var(--font-family)}.survey-input-textarea:active,.survey-input-textarea:focus{outline:1px solid var(--primary-color)}.survey-input-text-box{width:100%;height:32px;margin:7px 0 0;padding:0 0 0 5px;font-size:.875rem;color:var(--text-color-secondary);background-color:var(--white-25);border:var(--white-25);font-family:var(--font-family)}.survey-input-text-box:active,.survey-input-text-box:focus{outline:1px solid var(--primary-color)}.yes-no-btn{width:71px;height:32px;padding:0}.thumbs-btn{width:40px;height:32px;padding:3px 0 0}.rating{direction:rtl;display:block;margin:7px 0 0;float:left}.rating input[type=radio]{display:none}.rating label{width:32px;height:32px;display:inline-block;cursor:pointer;margin:0 7px 0 0;position:relative}.ratingFillIcon,.ratingOutlineIcon{fill:var(--primary-color);position:absolute}.ratingFillIcon{display:none}.rating input[type=radio]:checked~label>div>.ratingFillIcon,.rating label:hover .ratingFillIcon,.rating label:hover~label .ratingFillIcon{fill:var(--primary-color);display:block}.rating input[type=radio]:checked~label>div>.ratingFillIcon{-webkit-animation:.25s 2 blinkAnimation;animation:.25s 2 blinkAnimation}.drop-down{margin:7px 0 0;width:100%;height:32px;font-size:.75em;line-height:1.5;color:var(--text-color-secondary);padding:7px 0 7px 12px;border:1px solid var(--white-25);border-radius:4px;background-color:var(--white-25);cursor:pointer}.drop-down:hover .dropdown-content{display:block}.drop-down:focus{outline:1px solid var(--primary-color)}.agree-disagree-btn{min-width:115px;height:32px}.matrix{display:flex;justify-content:center;align-items:center}.matrix-left{display:inline-block}.matrix-left p{font-size:1.2em;line-height:1.43;color:var(--p-font-color);margin:12px 0 0}.matrix-right{margin:20px 0 0 20px;padding:0 0 10px}.matrix-star-rating{float:none}.matrix-star-rating label{width:25px;height:25px;margin:0}.matrix-star-rating input[type=radio]:checked~label>img,.matrix-star-rating label:hover,.matrix-star-rating label:hover~label{background:url(https://cdn.omoto.io/star-fill.png) no-repeat}.matrix-drop-down{width:157px;height:32px}.isRequired{color:red;margin-right:3px}.validation-error-msg{color:red;font-size:.75em}@media (min-width:481px) and (max-width:767px){.survey-container{height:100%}.survey-container-wrap{padding:20px 20px 10px;background-color:var(--bg-color);height:calc(100% - 59px);overflow-x:hidden;overflow-y:auto}.survey-statement{font-size:1.125em}.multiple-choice{width:100%;max-width:320px}.footer{height:59px;position:fixed}.footer-container{padding:0 20px;position:initial;max-width:initial;width:initial;margin:0}.footer-right img{width:60px;height:30px}.progress-container{width:10em}.footer-left{margin:5px 0 0}.btn-primary{margin:20px 0 0}.nps-btn-group{margin-top:7px;width:85%}.nps-legend{width:85%}.nps-btn{width:35px;height:35px;font-size:1.06em;line-height:2.2;margin:0;padding:0}.matrix{margin:0 auto}.matrix-left p{width:138px;height:20px;font-size:.875em}.matrix-right{padding:4px 0 0}}@media (min-width:320px) and (max-width:375px){.survey-container{height:100%}.org-logo{width:100%;height:auto}.survey-container-wrap{margin:0;padding:20px 20px 10px;height:calc(100vh - 59px);background-color:var(--bg-color);overflow-y:auto;overflow-x:hidden}.welcome-thankyou-heading{margin:1rem 0 0}.survey-statement{font-size:14px;margin:1rem 0 0}.multiple-choice{width:100%;max-width:320px;height:28px;padding:4px 0 0 7px;font-size:12px}.footer{height:59px;position:fixed}.footer-container{padding:0 20px;position:initial;max-width:initial;width:initial;margin:0}.footer-right img{width:60px;height:30px}.footer-left{margin:5px 0 0}.progress-container{width:8.3em}.btn-primary{margin:16px 0 0;font-size:14px}.nps-btn-group{margin-top:7px;width:100%}.nps-btn{width:25px;height:25px;font-size:1.06em;line-height:1.06;margin:0 3px 0 0;padding:0}#right-nps-label,.nps-legend{width:100%}.ratingIconAbove6{width:25px!important;margin:0 3px 0 0!important}.ratingIconAbove6 .ratingFillIcon,.ratingIconAbove6 .ratingOutlineIcon{width:25px}.matrix{margin:0 auto}.matrix-left p{width:138px;height:20px;font-size:.875em}.matrix-right{padding:4px 0 0}}@media (min-width:375px) and (max-width:480px){.survey-container{height:100%}.org-logo{width:100%;height:auto}.survey-container-wrap{margin:0;padding:20px 20px 10px;height:calc(100vh - 59px);background-color:var(--bg-color);overflow-y:auto;overflow-x:hidden}.survey-statement{font-size:1.125em}.multiple-choice{width:100%;max-width:320px}.footer{height:59px;position:fixed}.footer-container{padding:0 20px;position:initial;max-width:initial;width:initial;margin:0}.footer-right img{width:60px;height:30px}.footer-left{margin:5px 0 0}.progress-container{width:8.3em}.btn-primary{margin:20px 0 0}.nps-btn-group{margin-top:7px;width:100%}.nps-btn{width:25px;height:25px;font-size:1.06em;line-height:1.06;margin:0;padding:0}#right-nps-label,.nps-legend{width:100%}.ratingIconAbove6{width:25px!important;margin:0 3px 0 0!important}.ratingIconAbove6 .ratingFillIcon,.ratingIconAbove6 .ratingOutlineIcon{width:25px}.matrix{margin:0 auto}.matrix-left p{width:138px;height:20px;font-size:.875em}.matrix-right{padding:4px 0 0}}#error_snackbar{visibility:hidden;width:250px;margin-left:-125px;background-color:rgba(0,0,0,.55);color:#fff;text-align:center;border-radius:2px;padding:16px;position:absolute;z-index:1;left:50%;bottom:10%;font-size:1em}#error_snackbar.show{visibility:visible;-webkit-animation:.5s fadein,.5s 2.5s fadeout;animation:.5s fadein,.5s 2.5s fadeout}@-webkit-keyframes fadein{from{bottom:0;opacity:0}to{bottom:10%;opacity:1}}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:10%;opacity:1}}@-webkit-keyframes fadeout{from{bottom:10%;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeout{from{bottom:10%;opacity:1}to{bottom:0;opacity:0}}@media screen and (-webkit-min-device-pixel-ratio:0){progress{height:10px}input,select,textarea{font-size:16px}}"]
                }] }
    ];
    /** @nocollapse */
    PagesComponent.ctorParameters = function () { return [
        { type: PagesService },
        { type: SurveyLibService }
    ]; };
    PagesComponent.propDecorators = {
        surveyResponseEmitter: [{ type: Output }],
        surveyContent: [{ type: Input }],
        isTestMode: [{ type: Input }],
        surveyTheme: [{ type: Input }]
    };
    return PagesComponent;
}());
export { PagesComponent };
if (false) {
    /** @type {?} */
    PagesComponent.prototype.surveyResponseEmitter;
    /** @type {?} */
    PagesComponent.prototype.surveyContent;
    /** @type {?} */
    PagesComponent.prototype.isTestMode;
    /** @type {?} */
    PagesComponent.prototype.surveyTheme;
    /** @type {?} */
    PagesComponent.prototype.fontUrl;
    /** @type {?} */
    PagesComponent.prototype.WELCOME_PAGE;
    /** @type {?} */
    PagesComponent.prototype.QUESTIONNAIRE_PAGE;
    /** @type {?} */
    PagesComponent.prototype.THANK_YOU_PAGE;
    /** @type {?} */
    PagesComponent.prototype.surveyResponseModel;
    /**
     * @type {?}
     * @private
     */
    PagesComponent.prototype.submitSurveySubscription;
    /**
     * @type {?}
     * @private
     */
    PagesComponent.prototype.getSurveySubscription;
    /** @type {?} */
    PagesComponent.prototype.pagesService;
    /** @type {?} */
    PagesComponent.prototype.surveyLibServices;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZXMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vc3VydmV5LWxpYi8iLCJzb3VyY2VzIjpbImxpYi9wYWdlcy9wYWdlcy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQXFCLE1BQU0sRUFBRSxpQkFBaUIsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUM1RyxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sd0NBQXdDLENBQUM7QUFDcEUsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUM1QyxPQUFPLEVBQUMsbUJBQW1CLEVBQUMsTUFBTSx5QkFBeUIsQ0FBQztBQUU1RCxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSx1QkFBdUIsQ0FBQztBQUl2RDtJQXNDRSx3QkFBbUIsWUFBMEIsRUFDMUIsaUJBQW1DO1FBRG5DLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBQzFCLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBa0I7OztRQTFCL0MsMEJBQXFCLEdBQXNCLElBQUksWUFBWSxFQUFPLENBQUM7UUFlakUsaUJBQVksR0FBRyxjQUFjLENBQUM7UUFDOUIsdUJBQWtCLEdBQUcsb0JBQW9CLENBQUM7UUFDMUMsbUJBQWMsR0FBRyxnQkFBZ0IsQ0FBQztJQVczQyxDQUFDOzs7O0lBRUQsaUNBQVE7OztJQUFSO1FBQUEsaUJBVUM7UUFSQyxPQUFPLENBQUMsR0FBRyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDeEMsVUFBVTs7O1FBQUM7WUFDVCxLQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyxZQUFZLENBQUM7WUFDdkMsS0FBSSxDQUFDLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsR0FBRyxLQUFJLENBQUMsaUJBQWlCLENBQUMsY0FB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SUF1SFIscUJBQUM7Q0FBQSxBQTVJRCxJQTRJQztTQXJJWSxjQUFjOzs7SUFLekIsK0NBQzBFOztJQUUxRSx1Q0FDb0M7O0lBRXBDLG9DQUMyQjs7SUFFM0IscUNBQzJCOztJQUkzQixpQ0FBZTs7SUFFZixzQ0FBdUM7O0lBQ3ZDLDRDQUFtRDs7SUFDbkQsd0NBQTJDOztJQUUzQyw2Q0FBeUM7Ozs7O0lBRXpDLGtEQUErQzs7Ozs7SUFDL0MsK0NBQTRDOztJQUdoQyxzQ0FBaUM7O0lBQ2pDLDJDQUEwQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25EZXN0cm95LCBPbkluaXQsIE91dHB1dCwgVmlld0VuY2Fwc3VsYXRpb259IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtQYWdlc1NlcnZpY2V9IGZyb20gJy4uL3NoYXJlZC9wYWdlcy1zZXJ2aWNlcy9wYWdlcy5zZXJ2aWNlJztcbmltcG9ydCB7U3VydmV5Q29udGVudH0gZnJvbSAnLi9wYWdlcy5tb2RlbCc7XG5pbXBvcnQge1N1cnZleVJlc3BvbnNlTW9kZWx9IGZyb20gJy4vc3VydmV5LXJlc3BvbnNlLm1vZGVsJztcbmltcG9ydCB7U3Vic2NyaXB0aW9ufSBmcm9tICdyeGpzJztcbmltcG9ydCB7U3VydmV5TGliU2VydmljZX0gZnJvbSAnLi4vc3VydmV5LWxpYi5zZXJ2aWNlJztcbmltcG9ydCB7Q3VycmVudFN0YXRlfSBmcm9tICcuL3N0b3JlL3N1cnZleS1hY3Rpb25zJztcblxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhcHAtcGFnZXMnLFxuICB0ZW1wbGF0ZVVybDogJy4vcGFnZXMuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9wYWdlcy5jb21wb25lbnQuY3NzJ10sXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcblxufSlcbmV4cG9ydCBjbGFzcyBQYWdlc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcblxuICAvKkBJbnB1dCgpXG4gIHB1YmxpYyBwYWdlc01vZGVsOiBQYWdlc01vZGVsOyovXG5cbiAgQE91dHB1dCgpXG4gIHB1YmxpYyBzdXJ2ZXlSZXNwb25zZUVtaXR0ZXI6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQElucHV0KClcbiAgcHVibGljIHN1cnZleUNvbnRlbnQ6IFN1cnZleUNvbnRlbnQ7XG5cbiAgQElucHV0KClcbiAgcHVibGljIGlzVGVzdE1vZGU6IGJvb2xlYW47XG5cbiAgQElucHV0KClcbiAgcHVibGljIHN1cnZleVRoZW1lOiBzdHJpbmc7XG5cblxuXG4gIGZvbnRVcmw6c3RyaW5nO1xuXG4gIHJlYWRvbmx5IFdFTENPTUVfUEFHRSA9ICdXZWxjb21lIHBhZ2UnO1xuICByZWFkb25seSBRVUVTVElPTk5BSVJFX1BBR0UgPSAnUXVlc3Rpb25uYWlyZSBwYWdlJztcbiAgcmVhZG9ubHkgVEhBTktfWU9VX1BBR0UgPSAnVGhhbmsgeW91IHBhZ2UnO1xuXG4gIHN1cnZleVJlc3BvbnNlTW9kZWw6IFN1cnZleVJlc3BvbnNlTW9kZWw7XG5cbiAgcHJpdmF0ZSBzdWJtaXRTdXJ2ZXlTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcbiAgcHJpdmF0ZSBnZXRTdXJ2ZXlTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcblxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwYWdlc1NlcnZpY2U6IFBhZ2VzU2VydmljZSxcbiAgICAgICAgICAgICAgcHVibGljIHN1cnZleUxpYlNlcnZpY2VzOiBTdXJ2ZXlMaWJTZXJ2aWNlKSB7XG5cbiAgfVxuXG4gIG5leHRQYWdlKCkge1xuXG4gICAgY29uc29sZS5sb2coJ2luc2lkZSBuZXh0UGFnZSBQYWdlcy5jb21wb25lbnQnKTtcbiAgICB0aGlzLmFuaW1hdGVFeGl0TmV4dCh0aGlzLldFTENPTUVfUEFHRSk7XG4gICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgdGhpcy5wYWdlc1NlcnZpY2Uuc3RhZ2UgPSAnZW50cnktbmV4dCc7XG4gICAgICB0aGlzLnN1cnZleUxpYlNlcnZpY2VzLmN1cnJlbnRFbGVtZW50LmN1cnJlbnRQYWdlSW5kZXggPSB0aGlzLnN1cnZleUxpYlNlcnZpY2VzLmN1cnJlbnRFbGVtZW50LmN1cnJlbnRQYWdlSW5kZXggKyAxO1xuICAgICAgdGhpcy5zdXJ2ZXlMaWJTZXJ2aWNlcy5jdXJyZW50RWxlbWVudEV2ZW50RW1pdHRlci5lbWl0KHRoaXMuc3VydmV5TGliU2VydmljZXMuY3VycmVudEVsZW1lbnQpO1xuICAgIH0sNDAwKVxuXG4gIH1cblxuICBwcmV2aW91c1BhZ2UoKSB7XG4gICAgdGhpcy5zdXJ2ZXlMaWJTZXJ2aWNlcy5jdXJyZW50RWxlbWVudC5jdXJyZW50UGFnZUluZGV4ID0gdGhpcy5zdXJ2ZXlMaWJTZXJ2aWNlcy5jdXJyZW50RWxlbWVudC5jdXJyZW50UGFnZUluZGV4IC0gMTtcbiAgICB0aGlzLnN1cnZleUxpYlNlcnZpY2VzLmN1cnJlbnRFbGVtZW50RXZlbnRFbWl0dGVyLmVtaXQodGhpcy5zdXJ2ZXlMaWJTZXJ2aWNlcy5jdXJyZW50RWxlbWVudCk7XG4gIH1cblxuICBzdWJtaXRTdXJ2ZXkoKSB7XG4gICAgY29uc29sZS5sb2coJ0luIHN1Ym1pdCBzdXJ2ZXknKTtcbiAgICBpZiAodGhpcy5zdXJ2ZXlMaWJTZXJ2aWNlcy5jdXJyZW50RWxlbWVudC5jdXJyZW50UGFnZUluZGV4ICE9IHRoaXMuc3VydmV5Q29udGVudC5wYWdlcy5sZW5ndGggLSAxKSB7XG4gICAgICB0aGlzLnN1cnZleUxpYlNlcnZpY2VzLmN1cnJlbnRFbGVtZW50LmN1cnJlbnRQYWdlSW5kZXgrKztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdXJ2ZXlMaWJTZXJ2aWNlcy5kZWZhdWx0VGhhbmtZb3VQYWdlID0gdHJ1ZTtcblxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLnBhZ2VzU2VydmljZS5zdXJ2ZXlSZXNwb25zZXMpKTtcbiAgICB0aGlzLnN1cnZleVJlc3BvbnNlRW1pdHRlci5lbWl0KHRoaXMucGFnZXNTZXJ2aWNlLnN1cnZleVJlc3BvbnNlcyk7XG4gICAgLyogY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICB0aGlzLnN1cnZleUxpYlNlcnZpY2VzLmN1cnJlbnRFbGVtZW50LmN1cnJlbnRQYWdlSW5kZXggPSB0aGlzLnN1cnZleUxpYlNlcnZpY2VzLmN1cnJlbnRFbGVtZW50LmN1cnJlbnRQYWdlSW5kZXggKyAxO1xuICAgICB0aGlzLnN1cnZleVJlc3BvbnNlTW9kZWwuc3VydmV5UmVzcG9uc2VzID0gcmVzcG9uc2U7Ki9cbiAgICAvKnRoaXMuc3VibWl0U3VydmV5U3Vic2NyaXB0aW9uID0gdGhpcy5wYWdlc1NlcnZpY2Uuc3VibWl0U3VydmV5KHRoaXMuc3VydmV5UmVzcG9uc2VNb2RlbClcbiAgICAgIC5zdWJzY3JpYmUocmVzcG9uc2UgPT4gY29uc29sZS5sb2cocmVzcG9uc2UpLCBlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpOyovXG4gIH1cblxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuc2V0VGhlbWVGb3JTdXJ2ZXkoKTtcbiAgICB0aGlzLnN1cnZleVJlc3BvbnNlTW9kZWwgPSBuZXcgU3VydmV5UmVzcG9uc2VNb2RlbCgpO1xuICAgIHRoaXMuc3VydmV5TGliU2VydmljZXMuY3VycmVudEVsZW1lbnRFdmVudEVtaXR0ZXIuZW1pdCh0aGlzLnN1cnZleUxpYlNlcnZpY2VzLmN1cnJlbnRFbGVtZW50KTtcbiAgICB0aGlzLmZvbnRVcmwgPSB0aGlzLnN1cnZleUNvbnRlbnQuc2VsZWN0ZWRUaGVtZS5mb250LnVybDtcbiAgfVxuXG5cbiAgcHJpdmF0ZSBzZXRUaGVtZUZvclN1cnZleSgpIHtcbiAgICAvKi8vdGhpcy5jc3NVcmwgPSAnL2Fzc2V0cy8nK3RoaXMudGhlbWUrJy5jc3MnO1xuICAgIHRoaXMuY3NzVXJsID0gJy9hc3NldHMvdGhlbWU0LmNzcyc7XG4gICAgbGV0IGVsZW1lbnQ7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICBlbGVtZW50LnJlbCA9ICdzdHlsZXNoZWV0JztcbiAgICBlbGVtZW50LnR5cGUgPSAndGV4dC9jc3MnO1xuICAgIGVsZW1lbnQuaHJlZiA9IHRoaXMuY3NzVXJsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoZWxlbWVudCk7Ki9cbiAgfVxuXG4gIHByZXZpb3VzUXVlc3Rpb24oKSB7XG4gICAgdGhpcy5wYWdlc1NlcnZpY2UucHJldmlvdXNRdWVzdGlvbi5lbWl0KCk7XG4gIH1cblxuICBuZXh0UXVlc3Rpb24oKSB7XG4gICAgdGhpcy5wYWdlc1NlcnZpY2UubmV4dFF1ZXN0aW9uLmVtaXQoKTtcblxuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZ2V0U3VydmV5U3Vic2NyaXB0aW9uICE9IG51bGwgJiYgIXRoaXMuZ2V0U3VydmV5U3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgdGhpcy5nZXRTdXJ2ZXlTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdWJtaXRTdXJ2ZXlTdWJzY3JpcHRpb24gIT0gbnVsbCAmJiAhdGhpcy5zdWJtaXRTdXJ2ZXlTdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICB0aGlzLnN1Ym1pdFN1cnZleVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuXG5cblxuXG4gIGdvVG8ocXVlc3Rpb25JbmRleDogbnVtYmVyKSB7XG4gICAgdGhpcy5uZXh0UXVlc3Rpb24oKTtcbiAgICBsZXQgbnVtYmVyID0gdGhpcy5zdXJ2ZXlMaWJTZXJ2aWNlcy5jdXJyZW50RWxlbWVudC5jdXJyZW50UXVlc3Rpb25JbmRleCAtIHF1ZXN0aW9uSW5kZXg7XG4gICAgY29uc29sZS5sb2cobnVtYmVyKTtcbiAgICBjb25zb2xlLmxvZygnQ2xpY2tlZCBxdWVzdGlvbiBpbmRleDogJyArIHF1ZXN0aW9uSW5kZXgpO1xuICB9XG5cblxuICBwcml2YXRlIGFuaW1hdGVFeGl0TmV4dChxdWVzdGlvblR5cGU6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIGFuaW1hdGVFeGl0TmV4dFwiKTtcbiAgICBjb25zb2xlLmxvZyhxdWVzdGlvblR5cGUpO1xuICAgIGlmKHF1ZXN0aW9uVHlwZSA9PSAnV2VsY29tZSBwYWdlJykge1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgaWYgc3RhdGVtZW50IGluIGFuaW1hdGVFeGl0TmV4dCBtZXRob2RcIik7XG4gICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VsY29tZS1wYWdlJykuY2xhc3NOYW1lKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWxjb21lLXBhZ2UnKS5jbGFzc0xpc3QucmVtb3ZlKCdlbnRyeS1uZXh0Jyk7XG4gICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VsY29tZS1wYWdlJykuY2xhc3NOYW1lKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlbGNvbWUtcGFnZScpLmNsYXNzTmFtZSA9ICdleGl0LW5leHQnO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VsY29tZS1wYWdlLWRlbGF5JykuY2xhc3NOYW1lID0gJ2V4aXQtbmV4dC1kZWxheSc7XG4gICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VsY29tZS1wYWdlJykuY2xhc3NOYW1lKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==
/**
 * @fileoverview added by tsickle
 * Generated from: lib/pages/store/survey.reducers.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import * as SurveyActions from './survey-actions';
/** @type {?} */
var surveyResponseInitialState = [];
/** @type {?} */
var INITIAL_STATE = {
    response: surveyResponseInitialState
};
/**
 * @param {?=} state
 * @param {?=} action
 * @return {?}
 */
export function surveyReducers(state, action) {
    if (state === void 0) { state = INITIAL_STATE; }
    console.log(state);
    switch (action.type) {
        case SurveyActions.SAVE_CHOICE:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_NPS:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_YES_NO:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_RATING:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_DATE:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_EMAIL:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_PHONE:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_AGREE_DISAGREE:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_LONG_TEXT:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_SHORT_TEXT:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_ADDRESS:
            return tslib_1.__assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.REMOVE_RESPONSES:
            return tslib_1.__assign({}, state, { response: removeResponse(state.response, action.payload) });
        case SurveyActions.REMOVE_RESPONSES_OF_EXCLUDED_QUESTION_IDS:
            return tslib_1.__assign({}, state, { response: removeResponsesOfExcludedQuestionIds(state.response, action.payload) });
        case SurveyActions.RESET_RESPONSE:
            return INITIAL_STATE;
        default:
            console.log(JSON.stringify(state));
            return state;
    }
}
/**
 * @param {?} responses
 * @param {?} payload
 * @return {?}
 */
function removeResponse(responses, payload) {
    responses.splice(responses.findIndex((/**
     * @param {?} response
     * @return {?}
     */
    function (response) { return response.questionId == payload; })), 1);
    return responses;
}
/**
 * @param {?} response
 * @param {?} payload
 * @return {?}
 */
function getResponse(response, payload) {
    /** @type {?} */
    var index = response.findIndex((/**
     * @param {?} question
     * @return {?}
     */
    function (question) { return question.identifier == payload.identifier; }));
    if (index == undefined || index < 0) {
        return tslib_1.__spread(response, [payload]);
    }
    else {
        response[index] = payload;
        return response;
    }
}
/**
 * @param {?} responses
 * @param {?} payload
 * @return {?}
 */
function removeResponsesOfExcludedQuestionIds(responses, payload) {
    return responses.filter((/**
     * @param {?} response
     * @return {?}
     */
    function (response) { return payload.find((/**
     * @param {?} questionId
     * @return {?}
     */
    function (questionId) { return questionId == response.questionId; })); }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VydmV5LnJlZHVjZXJzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vc3VydmV5LWxpYi8iLCJzb3VyY2VzIjpbImxpYi9wYWdlcy9zdG9yZS9zdXJ2ZXkucmVkdWNlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsT0FBTyxLQUFLLGFBQWEsTUFBTSxrQkFBa0IsQ0FBQzs7SUFHOUMsMEJBQTBCLEdBQXNCLEVBQUU7O0lBRWhELGFBQWEsR0FBRztJQUNwQixRQUFRLEVBQUUsMEJBQTBCO0NBQ3JDOzs7Ozs7QUFJRCxNQUFNLFVBQVUsY0FBYyxDQUFDLEtBQXFCLEVBQ3JCLE1BQTZCO0lBRDdCLHNCQUFBLEVBQUEscUJBQXFCO0lBRWxELE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkIsUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFO1FBQ25CLEtBQUssYUFBYSxDQUFDLFdBQVc7WUFDN0IsNEJBQ0ssS0FBSyxJQUNSLFFBQVEsRUFBRSxXQUFXLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQ3BEO1FBRUgsS0FBSyxhQUFhLENBQUMsUUFBUTtZQUN6Qiw0QkFDSyxLQUFLLElBQ1IsUUFBUSxFQUFFLFdBQVcsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFDcEQ7UUFFSixLQUFLLGFBQWEsQ0FBQyxXQUFXO1lBQzVCLDRCQUNLLEtBQUssSUFDUixRQUFRLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUNwRDtRQUVKLEtBQUssYUFBYSxDQUFDLFdBQVc7WUFDNUIsNEJBQ0ssS0FBSyxJQUNSLFFBQVEsRUFBRSxXQUFXLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQ3BEO1FBRUosS0FBSyxhQUFhLENBQUMsU0FBUztZQUMxQiw0QkFDSyxLQUFLLElB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LE9BQUEsVUFBVSxJQUFJLFFBQVEsQ0FBQyxVQUFVLEVBQWpDLENBQWlDLEVBQUMsRUFBN0QsQ0FBNkQsRUFBQyxDQUFDO0FBQ3JHLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBTdXJ2ZXlBY3Rpb25zIGZyb20gJy4vc3VydmV5LWFjdGlvbnMnO1xuaW1wb3J0IHtTdXJ2ZXlSZXNwb25zZXN9IGZyb20gJy4uL3N1cnZleS1yZXNwb25zZS5tb2RlbCc7XG5cbmxldCBzdXJ2ZXlSZXNwb25zZUluaXRpYWxTdGF0ZTogU3VydmV5UmVzcG9uc2VzW10gPSBbXTtcblxuY29uc3QgSU5JVElBTF9TVEFURSA9IHtcbiAgcmVzcG9uc2U6IHN1cnZleVJlc3BvbnNlSW5pdGlhbFN0YXRlXG59O1xuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHN1cnZleVJlZHVjZXJzKHN0YXRlID0gSU5JVElBTF9TVEFURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFN1cnZleUFjdGlvbnMuQWN0aW9ucykge1xuICBjb25zb2xlLmxvZyhzdGF0ZSk7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuU0FWRV9DSE9JQ0U6XG4gICAgIHJldHVybiB7XG4gICAgICAgLi4uc3RhdGUsXG4gICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlKHN0YXRlLnJlc3BvbnNlLGFjdGlvbi5wYXlsb2FkKVxuICAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlNBVkVfTlBTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZShzdGF0ZS5yZXNwb25zZSxhY3Rpb24ucGF5bG9hZClcbiAgICAgIH07XG5cbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuU0FWRV9ZRVNfTk86XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlKHN0YXRlLnJlc3BvbnNlLGFjdGlvbi5wYXlsb2FkKVxuICAgICAgfTtcblxuICAgIGNhc2UgU3VydmV5QWN0aW9ucy5TQVZFX1JBVElORzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2Uoc3RhdGUucmVzcG9uc2UsYWN0aW9uLnBheWxvYWQpXG4gICAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlNBVkVfREFURTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2Uoc3RhdGUucmVzcG9uc2UsYWN0aW9uLnBheWxvYWQpXG4gICAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlNBVkVfRU1BSUw6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlKHN0YXRlLnJlc3BvbnNlLGFjdGlvbi5wYXlsb2FkKVxuICAgICAgfTtcblxuICAgIGNhc2UgU3VydmV5QWN0aW9ucy5TQVZFX1BIT05FOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZShzdGF0ZS5yZXNwb25zZSxhY3Rpb24ucGF5bG9hZClcbiAgICAgIH07XG5cbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuU0FWRV9BR1JFRV9ESVNBR1JFRTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2Uoc3RhdGUucmVzcG9uc2UsYWN0aW9uLnBheWxvYWQpXG4gICAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlNBVkVfTE9OR19URVhUOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZShzdGF0ZS5yZXNwb25zZSxhY3Rpb24ucGF5bG9hZClcbiAgICAgIH07XG5cbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuU0FWRV9TSE9SVF9URVhUOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZShzdGF0ZS5yZXNwb25zZSxhY3Rpb24ucGF5bG9hZClcbiAgICAgIH07XG5cbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuU0FWRV9BRERSRVNTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlKHN0YXRlLnJlc3BvbnNlLGFjdGlvbi5wYXlsb2FkKVxuICAgIH07XG5cbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuUkVNT1ZFX1JFU1BPTlNFUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXNwb25zZTogcmVtb3ZlUmVzcG9uc2Uoc3RhdGUucmVzcG9uc2UsIGFjdGlvbi5wYXlsb2FkKVxuICAgICAgfTtcblxuICAgIGNhc2UgU3VydmV5QWN0aW9ucy5SRU1PVkVfUkVTUE9OU0VTX09GX0VYQ0xVREVEX1FVRVNUSU9OX0lEUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXNwb25zZTogcmVtb3ZlUmVzcG9uc2VzT2ZFeGNsdWRlZFF1ZXN0aW9uSWRzKHN0YXRlLnJlc3BvbnNlLCBhY3Rpb24ucGF5bG9hZClcbiAgICAgIH07XG5cbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuUkVTRVRfUkVTUE9OU0U6XG4gICAgICByZXR1cm4gSU5JVElBTF9TVEFURTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShzdGF0ZSkpO1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUmVzcG9uc2UocmVzcG9uc2VzOiBTdXJ2ZXlSZXNwb25zZXNbXSwgcGF5bG9hZDogbnVtYmVyKSB7XG4gIHJlc3BvbnNlcy5zcGxpY2UocmVzcG9uc2VzLmZpbmRJbmRleChyZXNwb25zZSA9PiByZXNwb25zZS5xdWVzdGlvbklkID09IHBheWxvYWQpLDEpO1xuICByZXR1cm4gcmVzcG9uc2VzO1xufVxuXG5mdW5jdGlvbiBnZXRSZXNwb25zZShyZXNwb25zZTogU3VydmV5UmVzcG9uc2VzW10sXG4gICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBTdXJ2ZXlSZXNwb25zZXMpOiBTdXJ2ZXlSZXNwb25zZXNbXXtcbiAgbGV0IGluZGV4ID0gcmVzcG9uc2UuZmluZEluZGV4KHF1ZXN0aW9uID0+IHF1ZXN0aW9uLmlkZW50aWZpZXIgPT0gcGF5bG9hZC5pZGVudGlmaWVyKTtcbiAgaWYgKGluZGV4ID09IHVuZGVmaW5lZCB8fCBpbmRleCA8IDApe1xuICAgIHJldHVybiBbLi4ucmVzcG9uc2UscGF5bG9hZF1cbiAgfWVsc2V7XG4gICAgcmVzcG9uc2VbaW5kZXhdID0gcGF5bG9hZDtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlUmVzcG9uc2VzT2ZFeGNsdWRlZFF1ZXN0aW9uSWRzKHJlc3BvbnNlczogU3VydmV5UmVzcG9uc2VzW10sIHBheWxvYWQ6IG51bWJlcltdKSB7XG4gIHJldHVybiByZXNwb25zZXMuZmlsdGVyKHJlc3BvbnNlID0+IHBheWxvYWQuZmluZChxdWVzdGlvbklkID0+IHF1ZXN0aW9uSWQgPT0gcmVzcG9uc2UucXVlc3Rpb25JZCkpO1xufVxuXG4iXX0=
/**
 * @fileoverview added by tsickle
 * Generated from: lib/shared/pages-services/pages.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { EventEmitter, Injectable } from '@angular/core';
import { SurveyResponses } from '../../pages/survey-response.model';
var PagesService = /** @class */ (function () {
    function PagesService() {
        this.previousQuestion = new EventEmitter();
        this.nextQuestion = new EventEmitter();
        this.nextPageEvent = new EventEmitter();
        this.surveyResponses = [];
        this.sequenceOfQuestionTraversed = [];
    }
    /**
     * @param {?} response
     * @return {?}
     */
    PagesService.prototype.persistSurvey = /**
     * @param {?} response
     * @return {?}
     */
    function (response) {
        /** @type {?} */
        var index = this.surveyResponses.findIndex((/**
         * @param {?} surveyResponse
         * @return {?}
         */
        function (surveyResponse) { return surveyResponse.identifier === response.identifier; }));
        if (index !== -1) {
            this.surveyResponses[index] = response;
        }
        else {
            this.surveyResponses.push(response);
        }
    };
    /**
     * @param {?} payload
     * @return {?}
     */
    PagesService.prototype.removeResponsesOfExcludedQuestionIds = /**
     * @param {?} payload
     * @return {?}
     */
    function (payload) {
        return this.surveyResponses.filter((/**
         * @param {?} response
         * @return {?}
         */
        function (response) { return payload.find((/**
         * @param {?} questionId
         * @return {?}
         */
        function (questionId) { return questionId == response.questionId; })); }));
    };
    /**
     * @param {?} identifier
     * @return {?}
     */
    PagesService.prototype.getResponse = /**
     * @param {?} identifier
     * @return {?}
     */
    function (identifier) {
        console.log(this.surveyResponses);
        /** @type {?} */
        var index = this.surveyResponses.findIndex((/**
         * @param {?} res
         * @return {?}
         */
        function (res) { return res.identifier == identifier; }));
        if (index > -1) {
            return this.surveyResponses[index];
        }
        else {
            return new SurveyResponses();
        }
    };
    PagesService.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    PagesService.ctorParameters = function () { return []; };
    return PagesService;
}());
export { PagesService };
if (false) {
    /**
     * @type {?}
     * @private
     */
    PagesService.prototype.surveyUrl;
    /**
     * @type {?}
     * @private
     */
    PagesService.prototype.submitResponseUrl;
    /** @type {?} */
    PagesService.prototype.previousQuestion;
    /** @type {?} */
    PagesService.prototype.nextQuestion;
    /** @type {?} */
    PagesService.prototype.nextPageEvent;
    /** @type {?} */
    PagesService.prototype.surveyResponses;
    /** @type {?} */
    PagesService.prototype.sequenceOfQuestionTraversed;
    /** @type {?} */
    PagesService.prototype.stage;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZXMuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3N1cnZleS1saWIvIiwic291cmNlcyI6WyJsaWIvc2hhcmVkL3BhZ2VzLXNlcnZpY2VzL3BhZ2VzLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUMsWUFBWSxFQUFFLFVBQVUsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUV2RCxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sbUNBQW1DLENBQUM7QUFJbEU7SUFhRTtRQVJPLHFCQUFnQixHQUF5QixJQUFJLFlBQVksRUFBRSxDQUFDO1FBQzVELGlCQUFZLEdBQXlCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDeEQsa0JBQWEsR0FBeUIsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUN6RCxvQkFBZSxHQUFzQixFQUFFLENBQUM7UUFDeEMsZ0NBQTJCLEdBQWEsRUFBRSxDQUFDO0lBTWxELENBQUM7Ozs7O0lBRU0sb0NBQWE7Ozs7SUFBcEIsVUFBcUIsUUFBMEI7O1lBQ3pDLEtBQUssR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVM7Ozs7UUFBQyxVQUFBLGNBQWMsSUFBSSxPQUFBLGNBQWMsQ0FBQyxVQUFVLEtBQUssUUFBUSxDQUFDLFVBQVUsRUFBakQsQ0FBaUQsRUFBQztRQUMvRyxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsRUFBRTtZQUNoQixJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLFFBQVEsQ0FBQztTQUN4QzthQUFLO1lBQ0osSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDckM7SUFDSCxDQUFDOzs7OztJQUVNLDJEQUFvQzs7OztJQUEzQyxVQUE0QyxPQUFjO1FBQ3hELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNOzs7O1FBQUMsVUFBQSxRQUFRLElBQUksT0FBQSxPQUFPLENBQUMsSUFBSTs7OztRQUFDLFVBQUEsVUFBVSxJQUFJLE9BQUEsVUFBVSxJQUFJLFFBQVEsQ0FBQyxVQUFVLEVBQWpDLENBQWlDLEVBQUMsRUFBN0QsQ0FBNkQsRUFBQyxDQUFDO0lBQ2hILENBQUM7Ozs7O0lBR00sa0NBQVc7Ozs7SUFBbEIsVUFBbUIsVUFBa0I7UUFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7O1lBRTlCLEtBQUssR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVM7Ozs7UUFBQyxVQUFBLEdBQUcsSUFBSSxPQUFBLEdBQUcsQ0FBQyxVQUFVLElBQUksVUFBVSxFQUE1QixDQUE0QixFQUFDO1FBQy9FLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQ2QsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3BDO2FBQUs7WUFDSixPQUFPLElBQUksZUFBZSxFQUFFLENBQUM7U0FDOUI7SUFDSCxDQUFDOztnQkF4Q0YsVUFBVTs7OztJQTJDWCxtQkFBQztDQUFBLEFBM0NELElBMkNDO1NBMUNZLFlBQVk7Ozs7OztJQUV2QixpQ0FBbUM7Ozs7O0lBQ25DLHlDQUEyQzs7SUFDM0Msd0NBQW1FOztJQUNuRSxvQ0FBK0Q7O0lBQy9ELHFDQUFnRTs7SUFDaEUsdUNBQStDOztJQUMvQyxtREFBa0Q7O0lBRWxELDZCQUFxQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RXZlbnRFbWl0dGVyLCBJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge1N1cnZleVJlc3BvbnNlc30gZnJvbSAnLi4vLi4vcGFnZXMvc3VydmV5LXJlc3BvbnNlLm1vZGVsJztcbmltcG9ydCB7U3RvcmV9IGZyb20gJ0BuZ3J4L3N0b3JlJztcbmltcG9ydCAqIGFzIHN1cnZleUFjdGlvbnMgZnJvbSAnLi4vLi4vcGFnZXMvc3RvcmUvc3VydmV5LWFjdGlvbnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUGFnZXNTZXJ2aWNle1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc3VydmV5VXJsOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3VibWl0UmVzcG9uc2VVcmw6IHN0cmluZztcbiAgcHVibGljIHByZXZpb3VzUXVlc3Rpb246IEV2ZW50RW1pdHRlcjxudW1iZXI+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBwdWJsaWMgbmV4dFF1ZXN0aW9uOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgcHVibGljIG5leHRQYWdlRXZlbnQ6IEV2ZW50RW1pdHRlcjxzdHJpbmc+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBwdWJsaWMgc3VydmV5UmVzcG9uc2VzOiBTdXJ2ZXlSZXNwb25zZXNbXSA9IFtdO1xuICBwdWJsaWMgc2VxdWVuY2VPZlF1ZXN0aW9uVHJhdmVyc2VkOiBudW1iZXJbXSA9IFtdO1xuXG4gIHB1YmxpYyBzdGFnZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuXG4gIH1cblxuICBwdWJsaWMgcGVyc2lzdFN1cnZleShyZXNwb25zZSA6IFN1cnZleVJlc3BvbnNlcyl7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5zdXJ2ZXlSZXNwb25zZXMuZmluZEluZGV4KHN1cnZleVJlc3BvbnNlID0+IHN1cnZleVJlc3BvbnNlLmlkZW50aWZpZXIgPT09IHJlc3BvbnNlLmlkZW50aWZpZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuc3VydmV5UmVzcG9uc2VzW2luZGV4XSA9IHJlc3BvbnNlO1xuICAgIH1lbHNlIHtcbiAgICAgIHRoaXMuc3VydmV5UmVzcG9uc2VzLnB1c2gocmVzcG9uc2UpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVSZXNwb25zZXNPZkV4Y2x1ZGVkUXVlc3Rpb25JZHMocGF5bG9hZDogYW55W10pIHtcbiAgICByZXR1cm4gdGhpcy5zdXJ2ZXlSZXNwb25zZXMuZmlsdGVyKHJlc3BvbnNlID0+IHBheWxvYWQuZmluZChxdWVzdGlvbklkID0+IHF1ZXN0aW9uSWQgPT0gcmVzcG9uc2UucXVlc3Rpb25JZCkpO1xuICB9XG5cblxuICBwdWJsaWMgZ2V0UmVzcG9uc2UoaWRlbnRpZmllcjogc3RyaW5nKXtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN1cnZleVJlc3BvbnNlcyk7XG5cbiAgICBsZXQgaW5kZXggPSB0aGlzLnN1cnZleVJlc3BvbnNlcy5maW5kSW5kZXgocmVzID0+IHJlcy5pZGVudGlmaWVyID09IGlkZW50aWZpZXIpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdXJ2ZXlSZXNwb25zZXNbaW5kZXhdO1xuICAgIH1lbHNlIHtcbiAgICAgIHJldHVybiBuZXcgU3VydmV5UmVzcG9uc2VzKCk7XG4gICAgfVxuICB9XG5cblxufVxuIl19
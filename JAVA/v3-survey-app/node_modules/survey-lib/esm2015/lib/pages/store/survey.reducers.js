/**
 * @fileoverview added by tsickle
 * Generated from: lib/pages/store/survey.reducers.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as SurveyActions from './survey-actions';
/** @type {?} */
let surveyResponseInitialState = [];
/** @type {?} */
const INITIAL_STATE = {
    response: surveyResponseInitialState
};
/**
 * @param {?=} state
 * @param {?=} action
 * @return {?}
 */
export function surveyReducers(state = INITIAL_STATE, action) {
    console.log(state);
    switch (action.type) {
        case SurveyActions.SAVE_CHOICE:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_NPS:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_YES_NO:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_RATING:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_DATE:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_EMAIL:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_PHONE:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_AGREE_DISAGREE:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_LONG_TEXT:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_SHORT_TEXT:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.SAVE_ADDRESS:
            return Object.assign({}, state, { response: getResponse(state.response, action.payload) });
        case SurveyActions.REMOVE_RESPONSES:
            return Object.assign({}, state, { response: removeResponse(state.response, action.payload) });
        case SurveyActions.REMOVE_RESPONSES_OF_EXCLUDED_QUESTION_IDS:
            return Object.assign({}, state, { response: removeResponsesOfExcludedQuestionIds(state.response, action.payload) });
        case SurveyActions.RESET_RESPONSE:
            return INITIAL_STATE;
        default:
            console.log(JSON.stringify(state));
            return state;
    }
}
/**
 * @param {?} responses
 * @param {?} payload
 * @return {?}
 */
function removeResponse(responses, payload) {
    responses.splice(responses.findIndex((/**
     * @param {?} response
     * @return {?}
     */
    response => response.questionId == payload)), 1);
    return responses;
}
/**
 * @param {?} response
 * @param {?} payload
 * @return {?}
 */
function getResponse(response, payload) {
    /** @type {?} */
    let index = response.findIndex((/**
     * @param {?} question
     * @return {?}
     */
    question => question.identifier == payload.identifier));
    if (index == undefined || index < 0) {
        return [...response, payload];
    }
    else {
        response[index] = payload;
        return response;
    }
}
/**
 * @param {?} responses
 * @param {?} payload
 * @return {?}
 */
function removeResponsesOfExcludedQuestionIds(responses, payload) {
    return responses.filter((/**
     * @param {?} response
     * @return {?}
     */
    response => payload.find((/**
     * @param {?} questionId
     * @return {?}
     */
    questionId => questionId == response.questionId))));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VydmV5LnJlZHVjZXJzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vc3VydmV5LWxpYi8iLCJzb3VyY2VzIjpbImxpYi9wYWdlcy9zdG9yZS9zdXJ2ZXkucmVkdWNlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEtBQUssYUFBYSxNQUFNLGtCQUFrQixDQUFDOztJQUc5QywwQkFBMEIsR0FBc0IsRUFBRTs7TUFFaEQsYUFBYSxHQUFHO0lBQ3BCLFFBQVEsRUFBRSwwQkFBMEI7Q0FDckM7Ozs7OztBQUlELE1BQU0sVUFBVSxjQUFjLENBQUMsS0FBSyxHQUFHLGFBQWEsRUFDckIsTUFBNkI7SUFDMUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuQixRQUFRLE1BQU0sQ0FBQyxJQUFJLEVBQUU7UUFDbkIsS0FBSyxhQUFhLENBQUMsV0FBVztZQUM3Qix5QkFDSyxLQUFLLElBQ1IsUUFBUSxFQUFFLFdBQVcsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFDcEQ7UUFFSCxLQUFLLGFBQWEsQ0FBQyxRQUFRO1lBQ3pCLHlCQUNLLEtBQUssSUFDUixRQUFRLEVBQUUsV0FBVyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUNwRDtRQUVKLEtBQUssYUFBYSxDQUFDLFdBQVc7WUFDNUIseUJBQ0ssS0FBSyxJQUNSLFFBQVEsRUFBRSxXQUFXLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQ3BEO1FBRUosS0FBSyxhQUFhLENBQUMsV0FBVztZQUM1Qix5QkFDSyxLQUFLLElBQ1IsUUFBUSxFQUFFLFdBQVcsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFDcEQ7UUFFSixLQUFLLGFBQWEsQ0FBQyxTQUFTO1lBQzFCLHlCQUNLLEtBQUssSUFDUixRQUFRLEVBQUUsV0FB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VUFBVSxFQUFDLEVBQUMsQ0FBQztBQUNyRyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgU3VydmV5QWN0aW9ucyBmcm9tICcuL3N1cnZleS1hY3Rpb25zJztcbmltcG9ydCB7U3VydmV5UmVzcG9uc2VzfSBmcm9tICcuLi9zdXJ2ZXktcmVzcG9uc2UubW9kZWwnO1xuXG5sZXQgc3VydmV5UmVzcG9uc2VJbml0aWFsU3RhdGU6IFN1cnZleVJlc3BvbnNlc1tdID0gW107XG5cbmNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIHJlc3BvbnNlOiBzdXJ2ZXlSZXNwb25zZUluaXRpYWxTdGF0ZVxufTtcblxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzdXJ2ZXlSZWR1Y2VycyhzdGF0ZSA9IElOSVRJQUxfU1RBVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBTdXJ2ZXlBY3Rpb25zLkFjdGlvbnMpIHtcbiAgY29uc29sZS5sb2coc3RhdGUpO1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlNBVkVfQ0hPSUNFOlxuICAgICByZXR1cm4ge1xuICAgICAgIC4uLnN0YXRlLFxuICAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZShzdGF0ZS5yZXNwb25zZSxhY3Rpb24ucGF5bG9hZClcbiAgICAgfTtcblxuICAgIGNhc2UgU3VydmV5QWN0aW9ucy5TQVZFX05QUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2Uoc3RhdGUucmVzcG9uc2UsYWN0aW9uLnBheWxvYWQpXG4gICAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlNBVkVfWUVTX05POlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZShzdGF0ZS5yZXNwb25zZSxhY3Rpb24ucGF5bG9hZClcbiAgICAgIH07XG5cbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuU0FWRV9SQVRJTkc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlKHN0YXRlLnJlc3BvbnNlLGFjdGlvbi5wYXlsb2FkKVxuICAgICAgfTtcblxuICAgIGNhc2UgU3VydmV5QWN0aW9ucy5TQVZFX0RBVEU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlKHN0YXRlLnJlc3BvbnNlLGFjdGlvbi5wYXlsb2FkKVxuICAgICAgfTtcblxuICAgIGNhc2UgU3VydmV5QWN0aW9ucy5TQVZFX0VNQUlMOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZShzdGF0ZS5yZXNwb25zZSxhY3Rpb24ucGF5bG9hZClcbiAgICAgIH07XG5cbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuU0FWRV9QSE9ORTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2Uoc3RhdGUucmVzcG9uc2UsYWN0aW9uLnBheWxvYWQpXG4gICAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlNBVkVfQUdSRUVfRElTQUdSRUU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVzcG9uc2U6IGdldFJlc3BvbnNlKHN0YXRlLnJlc3BvbnNlLGFjdGlvbi5wYXlsb2FkKVxuICAgICAgfTtcblxuICAgIGNhc2UgU3VydmV5QWN0aW9ucy5TQVZFX0xPTkdfVEVYVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2Uoc3RhdGUucmVzcG9uc2UsYWN0aW9uLnBheWxvYWQpXG4gICAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlNBVkVfU0hPUlRfVEVYVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICByZXNwb25zZTogZ2V0UmVzcG9uc2Uoc3RhdGUucmVzcG9uc2UsYWN0aW9uLnBheWxvYWQpXG4gICAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlNBVkVfQUREUkVTUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZShzdGF0ZS5yZXNwb25zZSxhY3Rpb24ucGF5bG9hZClcbiAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlJFTU9WRV9SRVNQT05TRVM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVzcG9uc2U6IHJlbW92ZVJlc3BvbnNlKHN0YXRlLnJlc3BvbnNlLCBhY3Rpb24ucGF5bG9hZClcbiAgICAgIH07XG5cbiAgICBjYXNlIFN1cnZleUFjdGlvbnMuUkVNT1ZFX1JFU1BPTlNFU19PRl9FWENMVURFRF9RVUVTVElPTl9JRFM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcmVzcG9uc2U6IHJlbW92ZVJlc3BvbnNlc09mRXhjbHVkZWRRdWVzdGlvbklkcyhzdGF0ZS5yZXNwb25zZSwgYWN0aW9uLnBheWxvYWQpXG4gICAgICB9O1xuXG4gICAgY2FzZSBTdXJ2ZXlBY3Rpb25zLlJFU0VUX1JFU1BPTlNFOlxuICAgICAgcmV0dXJuIElOSVRJQUxfU1RBVEU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIHJlbW92ZVJlc3BvbnNlKHJlc3BvbnNlczogU3VydmV5UmVzcG9uc2VzW10sIHBheWxvYWQ6IG51bWJlcikge1xuICByZXNwb25zZXMuc3BsaWNlKHJlc3BvbnNlcy5maW5kSW5kZXgocmVzcG9uc2UgPT4gcmVzcG9uc2UucXVlc3Rpb25JZCA9PSBwYXlsb2FkKSwxKTtcbiAgcmV0dXJuIHJlc3BvbnNlcztcbn1cblxuZnVuY3Rpb24gZ2V0UmVzcG9uc2UocmVzcG9uc2U6IFN1cnZleVJlc3BvbnNlc1tdLFxuICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogU3VydmV5UmVzcG9uc2VzKTogU3VydmV5UmVzcG9uc2VzW117XG4gIGxldCBpbmRleCA9IHJlc3BvbnNlLmZpbmRJbmRleChxdWVzdGlvbiA9PiBxdWVzdGlvbi5pZGVudGlmaWVyID09IHBheWxvYWQuaWRlbnRpZmllcik7XG4gIGlmIChpbmRleCA9PSB1bmRlZmluZWQgfHwgaW5kZXggPCAwKXtcbiAgICByZXR1cm4gWy4uLnJlc3BvbnNlLHBheWxvYWRdXG4gIH1lbHNle1xuICAgIHJlc3BvbnNlW2luZGV4XSA9IHBheWxvYWQ7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVJlc3BvbnNlc09mRXhjbHVkZWRRdWVzdGlvbklkcyhyZXNwb25zZXM6IFN1cnZleVJlc3BvbnNlc1tdLCBwYXlsb2FkOiBudW1iZXJbXSkge1xuICByZXR1cm4gcmVzcG9uc2VzLmZpbHRlcihyZXNwb25zZSA9PiBwYXlsb2FkLmZpbmQocXVlc3Rpb25JZCA9PiBxdWVzdGlvbklkID09IHJlc3BvbnNlLnF1ZXN0aW9uSWQpKTtcbn1cblxuIl19
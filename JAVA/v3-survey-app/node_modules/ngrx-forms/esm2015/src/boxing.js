export function isBoxed(value) {
    return !!value && value.__boxed === '';
}
export function box(value) {
    return {
        __boxed: '',
        value,
    };
}
export function unbox(value) {
    if (['string', 'boolean', 'number', 'undefined'].indexOf(typeof value) >= 0 || value === null) {
        return value;
    }
    if (isBoxed(value)) {
        return value.value;
    }
    if (Array.isArray(value)) {
        return value.map(unbox);
    }
    return Object.keys(value).reduce((a, k) => Object.assign(a, { [k]: unbox(value[k]) }), {});
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm94aW5nLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmdyeC1mb3Jtcy8iLCJzb3VyY2VzIjpbInNyYy9ib3hpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0JBLE1BQU0sVUFBVSxPQUFPLENBQVUsS0FBVTtJQUN6QyxPQUFPLENBQUMsQ0FBQyxLQUFLLElBQUssS0FBb0IsQ0FBQyxPQUFPLEtBQUssRUFBRSxDQUFDO0FBQ3pELENBQUM7QUFFRCxNQUFNLFVBQVUsR0FBRyxDQUFJLEtBQVE7SUFDN0IsT0FBTztRQUNMLE9BQU8sRUFBRSxFQUFFO1FBQ1gsS0FBSztLQUNOLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxVQUFVLEtBQUssQ0FBSSxLQUFRO0lBQy9CLElBQUksQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtRQUM3RixPQUFPLEtBQThCLENBQUM7S0FDdkM7SUFFRCxJQUFJLE9BQU8sQ0FBSSxLQUFLLENBQUMsRUFBRTtRQUNyQixPQUFPLEtBQUssQ0FBQyxLQUE4QixDQUFDO0tBQzdDO0lBRUQsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3hCLE9BQVEsS0FBYSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQWUsQ0FBQztLQUNoRDtJQUVELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFZLENBQUMsQ0FBQyxNQUFNLENBQ3JDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBWSxDQUFRLENBQUMsRUFBRSxDQUFDLEVBQ3RFLEVBQVMsQ0FDSSxDQUFDO0FBQ2xCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIEJveGVkPFQ+IHtcclxuICBfX2JveGVkOiAnJztcclxuICB2YWx1ZTogVDtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVW5ib3hlZE9iamVjdDxUPiA9IHtcclxuICBbcHJvcCBpbiBrZXlvZiBUXTogVW5ib3hlZDxUW3Byb3BdPjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFVuYm94ZWQ8VD4gPVxyXG4gIC8vIChhYil1c2UgJ3N5bWJvbCcgdG8gY2F0Y2ggJ2FueScgdHlwaW5nXHJcbiAgVCBleHRlbmRzIEJveGVkPHN5bWJvbD4gPyBhbnlcclxuICA6IFQgZXh0ZW5kcyBCb3hlZDxpbmZlciBVPiA/IFVcclxuICA6IFQgZXh0ZW5kcyBzeW1ib2xbXSA/IGFueVxyXG4gIDogVCBleHRlbmRzIHN5bWJvbCA/IGFueVxyXG4gIDogVCBleHRlbmRzIHVuZGVmaW5lZCA/IHVuZGVmaW5lZFxyXG4gIDogVCBleHRlbmRzIG51bGwgPyBudWxsXHJcbiAgOiBUIGV4dGVuZHMgc3RyaW5nID8gc3RyaW5nXHJcbiAgOiBUIGV4dGVuZHMgbnVtYmVyID8gbnVtYmVyXHJcbiAgOiBUIGV4dGVuZHMgYm9vbGVhbiA/IGJvb2xlYW5cclxuICA6IFVuYm94ZWRPYmplY3Q8VD47XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNCb3hlZDxUID0gYW55Pih2YWx1ZTogYW55KTogdmFsdWUgaXMgQm94ZWQ8VD4ge1xyXG4gIHJldHVybiAhIXZhbHVlICYmICh2YWx1ZSBhcyBCb3hlZDxhbnk+KS5fX2JveGVkID09PSAnJztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJveDxUPih2YWx1ZTogVCk6IEJveGVkPFQ+IHtcclxuICByZXR1cm4ge1xyXG4gICAgX19ib3hlZDogJycsXHJcbiAgICB2YWx1ZSxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdW5ib3g8VD4odmFsdWU6IFQpOiBVbmJveGVkPFQ+IHtcclxuICBpZiAoWydzdHJpbmcnLCAnYm9vbGVhbicsICdudW1iZXInLCAndW5kZWZpbmVkJ10uaW5kZXhPZih0eXBlb2YgdmFsdWUpID49IDAgfHwgdmFsdWUgPT09IG51bGwpIHtcclxuICAgIHJldHVybiB2YWx1ZSBhcyB1bmtub3duIGFzIFVuYm94ZWQ8VD47XHJcbiAgfVxyXG5cclxuICBpZiAoaXNCb3hlZDxUPih2YWx1ZSkpIHtcclxuICAgIHJldHVybiB2YWx1ZS52YWx1ZSBhcyB1bmtub3duIGFzIFVuYm94ZWQ8VD47XHJcbiAgfVxyXG5cclxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgIHJldHVybiAodmFsdWUgYXMgYW55KS5tYXAodW5ib3gpIGFzIFVuYm94ZWQ8VD47XHJcbiAgfVxyXG5cclxuICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUgYXMgYW55KS5yZWR1Y2UoXHJcbiAgICAoYSwgaykgPT4gT2JqZWN0LmFzc2lnbihhLCB7IFtrXTogdW5ib3godmFsdWVbayBhcyBrZXlvZiBUXSBhcyBhbnkpIH0pLFxyXG4gICAge30gYXMgYW55LFxyXG4gICkgYXMgVW5ib3hlZDxUPjtcclxufVxyXG4iXX0=
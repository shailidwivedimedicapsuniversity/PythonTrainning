import { NgrxCheckboxViewAdapter } from './checkbox';
import { NgrxDefaultViewAdapter } from './default';
import { NgrxNumberViewAdapter } from './number';
import { NgrxRadioViewAdapter } from './radio';
import { NgrxRangeViewAdapter } from './range';
import { NgrxSelectViewAdapter } from './select';
import { NgrxSelectMultipleViewAdapter } from './select-multiple';
const BUILTIN_ADAPTERS = [
    NgrxCheckboxViewAdapter,
    NgrxRangeViewAdapter,
    NgrxNumberViewAdapter,
    NgrxSelectViewAdapter,
    NgrxSelectMultipleViewAdapter,
    NgrxRadioViewAdapter,
];
export function isBuiltInViewAdapter(viewAdapter) {
    return BUILTIN_ADAPTERS.some(a => viewAdapter.constructor === a);
}
export function selectViewAdapter(viewAdapters) {
    if (!viewAdapters) {
        throw new Error('No view adapter matches!');
    }
    let defaultAdapter;
    let builtinAdapter;
    let customAdapter;
    viewAdapters.forEach((v) => {
        if (v.constructor === NgrxDefaultViewAdapter) {
            defaultAdapter = v;
        }
        else if (isBuiltInViewAdapter(v)) {
            if (builtinAdapter) {
                throw new Error('More than one built-in view adapter matches!');
            }
            builtinAdapter = v;
        }
        else {
            if (customAdapter) {
                throw new Error('More than one custom view adapter matches!');
            }
            customAdapter = v;
        }
    });
    if (customAdapter) {
        return customAdapter;
    }
    if (builtinAdapter) {
        return builtinAdapter;
    }
    if (defaultAdapter) {
        return defaultAdapter;
    }
    throw new Error('No valid view adapter!');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25ncngtZm9ybXMvIiwic291cmNlcyI6WyJzcmMvdmlldy1hZGFwdGVyL3V0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3JELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNuRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDakQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQy9DLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUMvQyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDakQsT0FBTyxFQUFFLDZCQUE2QixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFHbEUsTUFBTSxnQkFBZ0IsR0FBRztJQUN2Qix1QkFBdUI7SUFDdkIsb0JBQW9CO0lBQ3BCLHFCQUFxQjtJQUNyQixxQkFBcUI7SUFDckIsNkJBQTZCO0lBQzdCLG9CQUFvQjtDQUNyQixDQUFDO0FBRUYsTUFBTSxVQUFVLG9CQUFvQixDQUFDLFdBQTRCO0lBQy9ELE9BQU8sZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLFdBQVcsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUNuRSxDQUFDO0FBRUQsTUFBTSxVQUFVLGlCQUFpQixDQUFDLFlBQStCO0lBQy9ELElBQUksQ0FBQyxZQUFZLEVBQUU7UUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0tBQzdDO0lBRUQsSUFBSSxjQUEyQyxDQUFDO0lBQ2hELElBQUksY0FBMkMsQ0FBQztJQUNoRCxJQUFJLGFBQTBDLENBQUM7SUFDL0MsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQWtCLEVBQUUsRUFBRTtRQUMxQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEtBQUssc0JBQXNCLEVBQUU7WUFDNUMsY0FBYyxHQUFHLENBQUMsQ0FBQztTQUNwQjthQUFNLElBQUksb0JBQW9CLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDbEMsSUFBSSxjQUFjLEVBQUU7Z0JBQ2xCLE1BQU0sSUFBSSxLQUFLLENBQUMsOENBQThDLENBQUMsQ0FBQzthQUNqRTtZQUVELGNBQWMsR0FBRyxDQUFDLENBQUM7U0FDcEI7YUFBTTtZQUNMLElBQUksYUFBYSxFQUFFO2dCQUNqQixNQUFNLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7YUFDL0Q7WUFFRCxhQUFhLEdBQUcsQ0FBQyxDQUFDO1NBQ25CO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLGFBQWEsRUFBRTtRQUNqQixPQUFPLGFBQWEsQ0FBQztLQUN0QjtJQUVELElBQUksY0FBYyxFQUFFO1FBQ2xCLE9BQU8sY0FBYyxDQUFDO0tBQ3ZCO0lBRUQsSUFBSSxjQUFjLEVBQUU7UUFDbEIsT0FBTyxjQUFjLENBQUM7S0FDdkI7SUFFRCxNQUFNLElBQUksS0FBSyxDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFDNUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5ncnhDaGVja2JveFZpZXdBZGFwdGVyIH0gZnJvbSAnLi9jaGVja2JveCc7XHJcbmltcG9ydCB7IE5ncnhEZWZhdWx0Vmlld0FkYXB0ZXIgfSBmcm9tICcuL2RlZmF1bHQnO1xyXG5pbXBvcnQgeyBOZ3J4TnVtYmVyVmlld0FkYXB0ZXIgfSBmcm9tICcuL251bWJlcic7XHJcbmltcG9ydCB7IE5ncnhSYWRpb1ZpZXdBZGFwdGVyIH0gZnJvbSAnLi9yYWRpbyc7XHJcbmltcG9ydCB7IE5ncnhSYW5nZVZpZXdBZGFwdGVyIH0gZnJvbSAnLi9yYW5nZSc7XHJcbmltcG9ydCB7IE5ncnhTZWxlY3RWaWV3QWRhcHRlciB9IGZyb20gJy4vc2VsZWN0JztcclxuaW1wb3J0IHsgTmdyeFNlbGVjdE11bHRpcGxlVmlld0FkYXB0ZXIgfSBmcm9tICcuL3NlbGVjdC1tdWx0aXBsZSc7XHJcbmltcG9ydCB7IEZvcm1WaWV3QWRhcHRlciB9IGZyb20gJy4vdmlldy1hZGFwdGVyJztcclxuXHJcbmNvbnN0IEJVSUxUSU5fQURBUFRFUlMgPSBbXHJcbiAgTmdyeENoZWNrYm94Vmlld0FkYXB0ZXIsXHJcbiAgTmdyeFJhbmdlVmlld0FkYXB0ZXIsXHJcbiAgTmdyeE51bWJlclZpZXdBZGFwdGVyLFxyXG4gIE5ncnhTZWxlY3RWaWV3QWRhcHRlcixcclxuICBOZ3J4U2VsZWN0TXVsdGlwbGVWaWV3QWRhcHRlcixcclxuICBOZ3J4UmFkaW9WaWV3QWRhcHRlcixcclxuXTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0J1aWx0SW5WaWV3QWRhcHRlcih2aWV3QWRhcHRlcjogRm9ybVZpZXdBZGFwdGVyKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIEJVSUxUSU5fQURBUFRFUlMuc29tZShhID0+IHZpZXdBZGFwdGVyLmNvbnN0cnVjdG9yID09PSBhKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFZpZXdBZGFwdGVyKHZpZXdBZGFwdGVyczogRm9ybVZpZXdBZGFwdGVyW10pOiBGb3JtVmlld0FkYXB0ZXIge1xyXG4gIGlmICghdmlld0FkYXB0ZXJzKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHZpZXcgYWRhcHRlciBtYXRjaGVzIScpO1xyXG4gIH1cclxuXHJcbiAgbGV0IGRlZmF1bHRBZGFwdGVyOiBGb3JtVmlld0FkYXB0ZXIgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IGJ1aWx0aW5BZGFwdGVyOiBGb3JtVmlld0FkYXB0ZXIgfCB1bmRlZmluZWQ7XHJcbiAgbGV0IGN1c3RvbUFkYXB0ZXI6IEZvcm1WaWV3QWRhcHRlciB8IHVuZGVmaW5lZDtcclxuICB2aWV3QWRhcHRlcnMuZm9yRWFjaCgodjogRm9ybVZpZXdBZGFwdGVyKSA9PiB7XHJcbiAgICBpZiAodi5jb25zdHJ1Y3RvciA9PT0gTmdyeERlZmF1bHRWaWV3QWRhcHRlcikge1xyXG4gICAgICBkZWZhdWx0QWRhcHRlciA9IHY7XHJcbiAgICB9IGVsc2UgaWYgKGlzQnVpbHRJblZpZXdBZGFwdGVyKHYpKSB7XHJcbiAgICAgIGlmIChidWlsdGluQWRhcHRlcikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTW9yZSB0aGFuIG9uZSBidWlsdC1pbiB2aWV3IGFkYXB0ZXIgbWF0Y2hlcyEnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYnVpbHRpbkFkYXB0ZXIgPSB2O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGN1c3RvbUFkYXB0ZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vcmUgdGhhbiBvbmUgY3VzdG9tIHZpZXcgYWRhcHRlciBtYXRjaGVzIScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjdXN0b21BZGFwdGVyID0gdjtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgaWYgKGN1c3RvbUFkYXB0ZXIpIHtcclxuICAgIHJldHVybiBjdXN0b21BZGFwdGVyO1xyXG4gIH1cclxuXHJcbiAgaWYgKGJ1aWx0aW5BZGFwdGVyKSB7XHJcbiAgICByZXR1cm4gYnVpbHRpbkFkYXB0ZXI7XHJcbiAgfVxyXG5cclxuICBpZiAoZGVmYXVsdEFkYXB0ZXIpIHtcclxuICAgIHJldHVybiBkZWZhdWx0QWRhcHRlcjtcclxuICB9XHJcblxyXG4gIHRocm93IG5ldyBFcnJvcignTm8gdmFsaWQgdmlldyBhZGFwdGVyIScpO1xyXG59XHJcbiJdfQ==
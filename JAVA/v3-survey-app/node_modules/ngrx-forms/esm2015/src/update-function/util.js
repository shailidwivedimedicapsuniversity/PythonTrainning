import { formArrayReducer } from '../array/reducer';
import { formControlReducer } from '../control/reducer';
import { formGroupReducer } from '../group/reducer';
import { isArrayState, isGroupState } from '../state';
export function abstractControlReducer(state, action) {
    if (isArrayState(state)) {
        return formArrayReducer(state, action);
    }
    if (isGroupState(state)) {
        return formGroupReducer(state, action);
    }
    return formControlReducer(state, action);
}
export function compose(...fns) {
    return (t) => fns.reduce((res, f) => f(res), t);
}
export function ensureState(state) {
    if (!state) {
        throw new Error('state must not be undefined!');
    }
    return state;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25ncngtZm9ybXMvIiwic291cmNlcyI6WyJzcmMvdXBkYXRlLWZ1bmN0aW9uL3V0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDeEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUF3QixZQUFZLEVBQUUsWUFBWSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBSzVFLE1BQU0sVUFBVSxzQkFBc0IsQ0FBUyxLQUFtQyxFQUFFLE1BQWM7SUFDaEcsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDdkIsT0FBTyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsTUFBYSxDQUFRLENBQUM7S0FDdEQ7SUFFRCxJQUFJLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUN2QixPQUFPLGdCQUFnQixDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztLQUN4QztJQUVELE9BQU8sa0JBQWtCLENBQUMsS0FBWSxFQUFFLE1BQU0sQ0FBUSxDQUFDO0FBQ3pELENBQUM7QUFFRCxNQUFNLFVBQVUsT0FBTyxDQUFJLEdBQUcsR0FBb0I7SUFDaEQsT0FBTyxDQUFDLENBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FBUyxLQUF5QjtJQUMzRCxJQUFJLENBQUMsS0FBSyxFQUFFO1FBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO0tBQ2pEO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xyXG5cclxuaW1wb3J0IHsgZm9ybUFycmF5UmVkdWNlciB9IGZyb20gJy4uL2FycmF5L3JlZHVjZXInO1xyXG5pbXBvcnQgeyBmb3JtQ29udHJvbFJlZHVjZXIgfSBmcm9tICcuLi9jb250cm9sL3JlZHVjZXInO1xyXG5pbXBvcnQgeyBmb3JtR3JvdXBSZWR1Y2VyIH0gZnJvbSAnLi4vZ3JvdXAvcmVkdWNlcic7XHJcbmltcG9ydCB7IEFic3RyYWN0Q29udHJvbFN0YXRlLCBpc0FycmF5U3RhdGUsIGlzR3JvdXBTdGF0ZSB9IGZyb20gJy4uL3N0YXRlJztcclxuXHJcbmV4cG9ydCB0eXBlIFByb2plY3RGbjxUPiA9ICh0OiBUKSA9PiBUO1xyXG5leHBvcnQgdHlwZSBQcm9qZWN0Rm4yPFQsIEs+ID0gKHQ6IFQsIGs6IEspID0+IFQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWJzdHJhY3RDb250cm9sUmVkdWNlcjxUVmFsdWU+KHN0YXRlOiBBYnN0cmFjdENvbnRyb2xTdGF0ZTxUVmFsdWU+LCBhY3Rpb246IEFjdGlvbik6IEFic3RyYWN0Q29udHJvbFN0YXRlPFRWYWx1ZT4ge1xyXG4gIGlmIChpc0FycmF5U3RhdGUoc3RhdGUpKSB7XHJcbiAgICByZXR1cm4gZm9ybUFycmF5UmVkdWNlcihzdGF0ZSwgYWN0aW9uIGFzIGFueSkgYXMgYW55O1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzR3JvdXBTdGF0ZShzdGF0ZSkpIHtcclxuICAgIHJldHVybiBmb3JtR3JvdXBSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZvcm1Db250cm9sUmVkdWNlcihzdGF0ZSBhcyBhbnksIGFjdGlvbikgYXMgYW55O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29tcG9zZTxUPiguLi5mbnM6ICgodDogVCkgPT4gVClbXSkge1xyXG4gIHJldHVybiAodDogVCkgPT4gZm5zLnJlZHVjZSgocmVzLCBmKSA9PiBmKHJlcyksIHQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlU3RhdGU8VFN0YXRlPihzdGF0ZTogVFN0YXRlIHwgdW5kZWZpbmVkKTogVFN0YXRlIHtcclxuICBpZiAoIXN0YXRlKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0YXRlIG11c3Qgbm90IGJlIHVuZGVmaW5lZCEnKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBzdGF0ZTtcclxufVxyXG4iXX0=
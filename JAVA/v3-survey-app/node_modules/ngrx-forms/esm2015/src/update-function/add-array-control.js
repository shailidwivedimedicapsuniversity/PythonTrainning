import { AddArrayControlAction } from '../actions';
import { formArrayReducer } from '../array/reducer';
import { isArrayState } from '../state';
import { ensureState } from './util';
export function addArrayControl(valueOrState, indexOrValue, index) {
    if (isArrayState(valueOrState)) {
        return formArrayReducer(valueOrState, new AddArrayControlAction(valueOrState.id, indexOrValue, index));
    }
    return (s) => addArrayControl(ensureState(s), valueOrState, indexOrValue);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRkLWFycmF5LWNvbnRyb2wuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3J4LWZvcm1zLyIsInNvdXJjZXMiOlsic3JjL3VwZGF0ZS1mdW5jdGlvbi9hZGQtYXJyYXktY29udHJvbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDbkQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFrQixZQUFZLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDeEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQWNyQyxNQUFNLFVBQVUsZUFBZSxDQUFTLFlBQTZDLEVBQUUsWUFBeUMsRUFBRSxLQUFjO0lBQzlJLElBQUksWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQzlCLE9BQU8sZ0JBQWdCLENBQUMsWUFBWSxFQUFFLElBQUkscUJBQXFCLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxZQUFzQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7S0FDbEg7SUFFRCxPQUFPLENBQUMsQ0FBeUIsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRSxZQUFzQixFQUFFLFlBQXNCLENBQUMsQ0FBQztBQUN4SCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRkQXJyYXlDb250cm9sQWN0aW9uIH0gZnJvbSAnLi4vYWN0aW9ucyc7XHJcbmltcG9ydCB7IGZvcm1BcnJheVJlZHVjZXIgfSBmcm9tICcuLi9hcnJheS9yZWR1Y2VyJztcclxuaW1wb3J0IHsgRm9ybUFycmF5U3RhdGUsIGlzQXJyYXlTdGF0ZSB9IGZyb20gJy4uL3N0YXRlJztcclxuaW1wb3J0IHsgZW5zdXJlU3RhdGUgfSBmcm9tICcuL3V0aWwnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgdXBkYXRlIGZ1bmN0aW9uIHRha2VzIGEgdmFsdWUgYW5kIG9wdGlvbmFsbHkgYW4gaW5kZXggYW5kIHJldHVybnMgYSBwcm9qZWN0aW9uIGZ1bmN0aW9uXHJcbiAqIHRoYXQgYWRkcyBhIGNoaWxkIGNvbnRyb2wgYXQgdGhlIGdpdmVuIGluZGV4IG9yIGF0IHRoZSBlbmQgb2YgYSBmb3JtIGFycmF5IHN0YXRlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFycmF5Q29udHJvbDxUVmFsdWU+KHZhbHVlOiBUVmFsdWUsIGluZGV4PzogbnVtYmVyKTogKHN0YXRlOiBGb3JtQXJyYXlTdGF0ZTxUVmFsdWU+KSA9PiBGb3JtQXJyYXlTdGF0ZTxUVmFsdWU+O1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgdXBkYXRlIGZ1bmN0aW9uIHRha2VzIGFuIGFycmF5IGZvcm0gc3RhdGUsIGEgdmFsdWUsIGFuZCBvcHRpb25hbGx5IGFuIGluZGV4IGFuZCBhZGRzIGFcclxuICogY2hpbGQgY29udHJvbCBhdCB0aGUgZ2l2ZW4gaW5kZXggb3IgYXQgdGhlIGVuZCBvZiB0aGUgc3RhdGUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYWRkQXJyYXlDb250cm9sPFRWYWx1ZT4oc3RhdGU6IEZvcm1BcnJheVN0YXRlPFRWYWx1ZT4sIHZhbHVlOiBUVmFsdWUsIGluZGV4PzogbnVtYmVyKTogRm9ybUFycmF5U3RhdGU8VFZhbHVlPjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRBcnJheUNvbnRyb2w8VFZhbHVlPih2YWx1ZU9yU3RhdGU6IFRWYWx1ZSB8IEZvcm1BcnJheVN0YXRlPFRWYWx1ZT4sIGluZGV4T3JWYWx1ZTogbnVtYmVyIHwgVFZhbHVlIHwgdW5kZWZpbmVkLCBpbmRleD86IG51bWJlcikge1xyXG4gIGlmIChpc0FycmF5U3RhdGUodmFsdWVPclN0YXRlKSkge1xyXG4gICAgcmV0dXJuIGZvcm1BcnJheVJlZHVjZXIodmFsdWVPclN0YXRlLCBuZXcgQWRkQXJyYXlDb250cm9sQWN0aW9uKHZhbHVlT3JTdGF0ZS5pZCwgaW5kZXhPclZhbHVlIGFzIFRWYWx1ZSwgaW5kZXgpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoczogRm9ybUFycmF5U3RhdGU8VFZhbHVlPikgPT4gYWRkQXJyYXlDb250cm9sKGVuc3VyZVN0YXRlKHMpLCB2YWx1ZU9yU3RhdGUgYXMgVFZhbHVlLCBpbmRleE9yVmFsdWUgYXMgbnVtYmVyKTtcclxufVxyXG4iXX0=
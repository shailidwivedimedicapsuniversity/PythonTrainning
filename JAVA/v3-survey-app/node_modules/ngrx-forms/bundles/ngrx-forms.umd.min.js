!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@ngrx/store")):"function"==typeof define&&define.amd?define("ngrx-forms",["exports","@angular/core","@angular/common","@angular/forms","@ngrx/store"],t):t((e=e||self)["ngrx-forms"]={},e.ng.core,e.ng.common,e.ng.forms,e.ngrx.store)}(this,function(e,t,r,n,i){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function s(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function d(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function f(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(u){i={error:u}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return s}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}var h=function(){function e(t,r){this.controlId=t,this.value=r,this.type=e.TYPE}return e.TYPE="ngrx/forms/SET_VALUE",e}(),y=function(){function e(t,r){this.controlId=t,this.errors=r,this.type=e.TYPE}return e.TYPE="ngrx/forms/SET_ERRORS",e}(),m=function(){function e(t,r,n){this.controlId=t,this.name=r,this.value=n,this.type=e.TYPE}return e.TYPE="ngrx/forms/SET_ASYNC_ERROR",e}(),g=function(){function e(t,r){this.controlId=t,this.name=r,this.type=e.TYPE}return e.TYPE="ngrx/forms/CLEAR_ASYNC_ERROR",e}(),b=function(){function e(t,r){this.controlId=t,this.name=r,this.type=e.TYPE}return e.TYPE="ngrx/forms/START_ASYNC_VALIDATION",e}(),v=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/MARK_AS_DIRTY",e}(),O=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/MARK_AS_PRISTINE",e}(),w=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/ENABLE",e}(),S=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/DISABLE",e}(),E=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/MARK_AS_TOUCHED",e}(),T=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/MARK_AS_UNTOUCHED",e}(),P=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/FOCUS",e}(),I=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/UNFOCUS",e}(),A=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/MARK_AS_SUBMITTED",e}(),D=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/MARK_AS_UNSUBMITTED",e}(),V=function(){function e(t,r,n){this.controlId=t,this.value=r,this.index=n,this.type=e.TYPE}return e.TYPE="ngrx/forms/ADD_ARRAY_CONTROL",e}(),x=function(){function e(t,r,n){this.controlId=t,this.name=r,this.value=n,this.type=e.TYPE}return e.TYPE="ngrx/forms/ADD_GROUP_CONTROL",e}(),j=function(){function e(t,r){this.controlId=t,this.index=r,this.type=e.TYPE}return e.TYPE="ngrx/forms/REMOVE_ARRAY_CONTROL",e}(),B=function(){function e(t,r,n){this.controlId=t,this.fromIndex=r,this.toIndex=n,this.type=e.TYPE}return e.TYPE="ngrx/forms/SWAP_ARRAY_CONTROL",e}(),C=function(){function e(t,r,n){this.controlId=t,this.fromIndex=r,this.toIndex=n,this.type=e.TYPE}return e.TYPE="ngrx/forms/MOVE_ARRAY_CONTROL",e}(),R=function(){function e(t,r){this.controlId=t,this.name=r,this.type=e.TYPE}return e.TYPE="ngrx/forms/REMOVE_CONTROL",e}(),Y=function(){function e(t,r,n){this.controlId=t,this.name=r,this.value=n,this.type=e.TYPE}return e.TYPE="ngrx/forms/SET_USER_DEFINED_PROPERTY",e}(),F=function(){function e(t){this.controlId=t,this.type=e.TYPE}return e.TYPE="ngrx/forms/RESET",e}();function k(e){return!!e.type&&e.type.startsWith("ngrx/forms/")}var N=[h.TYPE,y.TYPE,m.TYPE,g.TYPE,b.TYPE,v.TYPE,O.TYPE,w.TYPE,S.TYPE,E.TYPE,T.TYPE,P.TYPE,I.TYPE,A.TYPE,D.TYPE,x.TYPE,R.TYPE,V.TYPE,j.TYPE,Y.TYPE,F.TYPE,B.TYPE,C.TYPE];function _(e){return!!e&&""===e.__boxed}function U(e){return{__boxed:"",value:e}}function L(e){return["string","boolean","number","undefined"].indexOf(typeof e)>=0||null===e?e:_(e)?e.value:Array.isArray(e)?e.map(L):Object.keys(e).reduce(function(t,r){var n;return Object.assign(t,((n={})[r]=L(e[r]),n))},{})}function W(e){return 0===Object.keys(e).length}function H(e,t){for(var r,n,i,o,s=[],u=2;u<arguments.length;u++)s[u-2]=arguments[u];function a(e,t){var r;if(isNaN(e)&&isNaN(t)&&"number"==typeof e&&"number"==typeof t)return!0;if(e===t)return!0;if("function"==typeof e&&"function"==typeof t||e instanceof Date&&t instanceof Date||e instanceof RegExp&&t instanceof RegExp||e instanceof String&&t instanceof String||e instanceof Number&&t instanceof Number)return e.toString()===t.toString();if(!(e instanceof Object&&t instanceof Object))return!1;if(e.isPrototypeOf(t)||t.isPrototypeOf(e))return!1;if(e.constructor!==t.constructor)return!1;if(i.indexOf(e)>-1||o.indexOf(t)>-1)return!1;for(r in t){if(t.hasOwnProperty(r)!==e.hasOwnProperty(r))return!1;if(typeof t[r]!=typeof e[r])return!1}for(r in e){if(t.hasOwnProperty(r)!==e.hasOwnProperty(r))return!1;switch(typeof e[r]){case"object":case"function":if(i.push(e),o.push(t),!a(e[r],t[r]))return!1;i.pop(),o.pop();break;default:if(e[r]!==t[r])return!1}}return!0}if(arguments.length<=1)throw new Error("Need two or more arguments to compare");for(r=1,n=arguments.length;r<n;r++)if(i=[],o=[],!a(arguments[0],arguments[r]))return!1;return!0}function M(e){return!!e&&e.hasOwnProperty("id")&&e.hasOwnProperty("value")&&e.hasOwnProperty("errors")}function $(e){return M(e)&&e.hasOwnProperty("controls")&&Array.isArray(e.controls)}function G(e){return M(e)&&e.hasOwnProperty("controls")&&!Array.isArray(e.controls)&&"function"!=typeof e.controls}function J(e,t){return _(t)?K(e,t):null!==t&&Array.isArray(t)?Z(e,t):null!==t&&"object"==typeof t?X(e,t):K(e,t)}function z(e){if(null===e||["string","number","boolean","undefined"].indexOf(typeof e)>=0)return e;if(!_(e)){throw new Error("Form control states only support undefined, null, string, number, and boolean values as well as boxed values; got "+JSON.stringify(e)+" of type "+typeof e)}if(null===e.value||["string","number","boolean","undefined"].indexOf(typeof e.value)>=0)return e;var t=JSON.stringify(e);if(H(e,JSON.parse(t)))return e;throw new Error("A form control value must be serializable (i.e. value === JSON.parse(JSON.stringify(value))), got: "+JSON.stringify(e))}function K(e,t){return{id:e,value:z(t),errors:{},pendingValidations:[],isValidationPending:!1,isValid:!0,isInvalid:!1,isEnabled:!0,isDisabled:!1,isDirty:!1,isPristine:!0,isTouched:!1,isUntouched:!0,isSubmitted:!1,isUnsubmitted:!0,isFocused:!1,isUnfocused:!0,userDefinedProperties:{}}}function q(e,t,r,n,i,o,s){r=function(e,t){var r=Object.keys(t).length!==Object.keys(e).length,n=Object.keys(e).reduce(function(n,i){return r=r||t[i]!==e[i].value,n[i]=e[i].value,n},{});return r?n:t}(t,r),n=function(e,t){var r=!1,n=Object.keys(t).filter(function(e){return!e.startsWith("_")}).reduce(function(e,r){var n;return Object.assign(e,((n={})[r]=t[r],n))},{}),i=Object.keys(e).reduce(function(n,i){var o,s=e[i].errors;return W(s)?r=r||t.hasOwnProperty("_"+i):(r=r||t["_"+i]!==s,Object.assign(n,((o={})["_"+i]=e[i].errors,o))),n},n);return(r=r||Object.keys(t).length!==Object.keys(i).length)?i:t}(t,n);var u=W(n),a=s.wasOrShouldBeDirty||Object.keys(t).some(function(e){return t[e].isDirty}),d=s.wasOrShouldBeEnabled||Object.keys(t).some(function(e){return t[e].isEnabled}),c=s.wasOrShouldBeTouched||Object.keys(t).some(function(e){return t[e].isTouched}),l=s.wasOrShouldBeSubmitted||Object.keys(t).some(function(e){return t[e].isSubmitted});return{id:e,value:r,errors:n,pendingValidations:i,isValidationPending:i.length>0||Object.keys(t).some(function(e){return t[e].isValidationPending}),isValid:u,isInvalid:!u,isEnabled:d,isDisabled:!d,isDirty:a,isPristine:!a,isTouched:c,isUntouched:!c,isSubmitted:l,isUnsubmitted:!l,userDefinedProperties:o,controls:t}}function X(e,t){var r=Object.keys(t).map(function(r){return[r,J(e+"."+r,t[r])]}).reduce(function(e,t){var r,n=f(t,2),i=n[0],o=n[1];return Object.assign(e,((r={})[i]=o,r))},{});return q(e,r,t,{},[],{},{wasOrShouldBeEnabled:!0})}function Q(e,t,r,n,i,o,s){var u=t;r=function(e,t){var r=Object.keys(t).length!==Object.keys(e).length,n=e.map(function(e,n){return r=r||t[n]!==e.value,e.value});return r?n:t}(u,r),n=function(e,t){var r=!1,n=Object.keys(t).filter(function(e){return!e.startsWith("_")}).reduce(function(e,r){var n;return Object.assign(e,((n={})[r]=t[r],n))},{}),i=e.reduce(function(e,n,i){var o,s=n.errors;return W(s)?r=r||t.hasOwnProperty("_"+i):(r=r||t["_"+i]!==s,Object.assign(e,((o={})["_"+i]=s,o))),e},n);return(r=r||Object.keys(t).length!==Object.keys(i).length)?i:t}(u,n);var a=W(n),d=s.wasOrShouldBeDirty||u.some(function(e){return e.isDirty}),c=s.wasOrShouldBeEnabled||u.some(function(e){return e.isEnabled}),l=s.wasOrShouldBeTouched||u.some(function(e){return e.isTouched}),f=s.wasOrShouldBeSubmitted||u.some(function(e){return e.isSubmitted});return{id:e,value:r,errors:n,pendingValidations:i,isValidationPending:i.length>0||u.some(function(e){return e.isValidationPending}),isValid:a,isInvalid:!a,isEnabled:c,isDisabled:!c,isDirty:d,isPristine:!d,isTouched:l,isUntouched:!l,isSubmitted:f,isUnsubmitted:!f,userDefinedProperties:o,controls:t}}function Z(e,t){var r=t.map(function(t,r){return J(e+"."+r,t)});return Q(e,r,t,{},[],{},{wasOrShouldBeEnabled:!0})}function ee(e,t){if(G(e)||$(e))throw new Error("The state must be a control state");return t.controlId!==e.id?e:e=function(e,t){return t.type!==F.TYPE?e:e.isPristine&&e.isUntouched&&e.isUnsubmitted?e:u({},e,{isDirty:!1,isPristine:!0,isTouched:!1,isUntouched:!0,isSubmitted:!1,isUnsubmitted:!0})}(e=function(e,t){var r;return t.type!==Y.TYPE?e:e.userDefinedProperties[t.name]===t.value?e:u({},e,{userDefinedProperties:u({},e.userDefinedProperties,(r={},r[t.name]=t.value,r))})}(e=function(e,t){return t.type!==D.TYPE?e:e.isUnsubmitted?e:u({},e,{isSubmitted:!1,isUnsubmitted:!0})}(e=function(e,t){return t.type!==A.TYPE?e:e.isSubmitted?e:u({},e,{isSubmitted:!0,isUnsubmitted:!1})}(e=function(e,t){return t.type!==T.TYPE?e:e.isUntouched?e:u({},e,{isTouched:!1,isUntouched:!0})}(e=function(e,t){return t.type!==E.TYPE?e:e.isTouched?e:u({},e,{isTouched:!0,isUntouched:!1})}(e=function(e,t){return t.type!==O.TYPE?e:e.isPristine?e:u({},e,{isDirty:!1,isPristine:!0})}(e=function(e,t){return t.type!==v.TYPE?e:e.isDirty?e:u({},e,{isDirty:!0,isPristine:!1})}(e=function(e,t){return t.type!==I.TYPE?e:e.isUnfocused?e:u({},e,{isFocused:!1,isUnfocused:!0})}(e=function(e,t){return t.type!==P.TYPE?e:e.isFocused?e:u({},e,{isFocused:!0,isUnfocused:!1})}(e=function(e,t){return t.type!==S.TYPE?e:e.isDisabled?e:u({},e,{isEnabled:!1,isDisabled:!0,isValid:!0,isInvalid:!1,errors:{},pendingValidations:[],isValidationPending:!1})}(e=function(e,t){return t.type!==w.TYPE?e:e.isEnabled?e:u({},e,{isEnabled:!0,isDisabled:!1})}(e=function(e,t){if(t.type!==g.TYPE)return e;var r="$"+t.name,n=e.errors;n.hasOwnProperty(r)&&delete(n=u({},e.errors))[r];var i=e.pendingValidations.filter(function(e){return e!==t.name}),o=W(n);return n===e.errors&&o===e.isValid&&i.length===e.pendingValidations.length?e:u({},e,{isValid:o,isInvalid:!o,errors:n,pendingValidations:i,isValidationPending:i.length>0})}(e=function(e,t){var r;if(t.type!==m.TYPE)return e;if(e.isDisabled)return e;var n="$"+t.name,i=t.value;H(e.errors[n],t.value)&&(i=e.errors[n]);var o=u({},e.errors,((r={})[n]=i,r)),s=e.pendingValidations.filter(function(e){return e!==t.name});return u({},e,{isValid:!1,isInvalid:!0,errors:o,pendingValidations:s,isValidationPending:s.length>0})}(e=function(e,t){return t.type!==b.TYPE?e:e.pendingValidations.indexOf(t.name)>=0?e:u({},e,{pendingValidations:p(e.pendingValidations,[t.name]),isValidationPending:!0})}(e=function(e,t){if(t.type!==y.TYPE)return e;if(e.isDisabled)return e;if(e.errors===t.errors)return e;if(H(e.errors,t.errors))return e;if(!t.errors||"object"!=typeof t.errors||Array.isArray(t.errors))throw new Error("Control errors must be an object; got "+t.errors);if(Object.keys(t.errors).some(function(e){return e.startsWith("$")}))throw new Error("Control errors must not use $ as a prefix; got "+JSON.stringify(t.errors));var r=Object.keys(e.errors).filter(function(e){return e.startsWith("$")}).reduce(function(t,r){var n;return Object.assign(t,((n={})[r]=e.errors[r],n))},{}),n=W(r)?t.errors:Object.assign(r,t.errors),i=W(n);return u({},e,{isValid:i,isInvalid:!i,errors:n})}(e=function(e,t){return t.type!==h.TYPE?e:e.value===t.value?e:u({},e,{value:z(t.value)})}(e,t),t),t),t),t),t),t),t),t),t),t),t),t),t),t),t),t)}function te(e,t){if(!e)throw new Error("The control state must be defined!");return ee(e,t)}function re(e,t){var r=!1,n=e.map(function(e){var n=de(e,t(e.id));return r=r||e!==n,n});return r?n:e}function ne(e,t){var r=function(e,t){var r=!1,n=e.map(function(e){var n=de(e,t);return r=r||e!==n,n});return r?n:e}(e.controls,t);return e.controls===r?e:Q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}function ie(e,t){return e.id===t?e:G(e)?function(e,t){var r=Object.keys(e.controls).reduce(function(r,n){var i;return Object.assign(r,((i={})[n]=ie(e.controls[n],t+"."+n),i))},{});return u({},e,{id:t,controls:r})}(e,t):$(e)?function(e,t){var r=e.controls.map(function(e,r){return ie(e,t+"."+r)});return u({},e,{id:t,controls:r})}(e,t):u({},e,{id:t})}function oe(e,t){if(t.type!==C.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);var r=t.fromIndex,n=t.toIndex;if(r===n)return e;if(r<0||n<0)throw new Error("fromIndex "+r+" or toIndex "+r+" was negative");if(r>=e.controls.length||n>=e.controls.length)throw new Error("fromIndex "+r+" or toIndex "+n+" is out of bounds with the length of the controls "+e.controls.length);var i=function(e,t,r){var n=e[t],i=e.length;if(t>r)return p(e.slice(0,r),[n],e.slice(r,t),e.slice(t+1,i));var o=r+1;return p(e.slice(0,t),e.slice(t+1,o),[n],e.slice(o,i))}(e.controls,r,n);return i=i.map(function(t,r){return ie(t,e.id+"."+r)}),Q(e.id,i,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}function se(e,t){if(t.type!==B.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);var r=t.fromIndex,n=t.toIndex;if(r===n)return e;if(r<0||n<0)throw new Error("fromIndex "+r+" or toIndex "+r+" was negative");if(r>=e.controls.length||n>=e.controls.length)throw new Error("fromIndex "+r+" or toIndex "+n+" is out of bounds with the length of the controls "+e.controls.length);var i,o,s,u,a,d=(i=e.controls,o=r,s=n,a=p(i),u=f([a[s],a[o]],2),a[o]=u[0],a[s]=u[1],a);return d=d.map(function(t,i){return i>=r||i>=n?ie(t,e.id+"."+i):t}),Q(e.id,d,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}function ue(e,t){if(!$(e))throw new Error("The state must be an array state");if(!k(t))return e;if(!t.controlId.startsWith(e.id))return e;switch(t.type){case P.TYPE:case I.TYPE:case x.TYPE:case R.TYPE:return ne(e,t)}return e=oe(e=se(e=function(e,t){if(t.type!==j.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);if(t.index>=e.controls.length||t.index<0)throw new Error("Index "+t.index+" is out of bounds for array '"+e.id+"' with length "+e.controls.length+"!");var r=t.index,n=e.controls.filter(function(e,t){return t!==r}).map(function(t,r){return ie(t,e.id+"."+r)});return Q(e.id,n,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==V.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);var r=t.index===undefined?e.controls.length:t.index;if(r>e.controls.length||r<0)throw new Error("Index "+r+" is out of bounds for array '"+e.id+"' with length "+e.controls.length+"!");var n=p(e.controls);return n.splice(r,0,J(e.id+"."+r,t.value)),n=n.map(function(t,r){return ie(t,e.id+"."+r)}),Q(e.id,n,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){return t.type!==F.TYPE?e:t.controlId!==e.id?ne(e,t):e.isPristine&&e.isUntouched&&e.isUnsubmitted?e:Q(e.id,re(e.controls,function(e){return new F(e)}),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!1,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!1,wasOrShouldBeSubmitted:!1})}(e=function(e,t){var r;return t.type!==Y.TYPE?e:t.controlId!==e.id?ne(e,t):e.userDefinedProperties[t.name]===t.value?e:u({},e,{userDefinedProperties:u({},e.userDefinedProperties,(r={},r[t.name]=t.value,r))})}(e=function(e,t){return t.type!==D.TYPE?e:t.controlId!==e.id?ne(e,t):e.isUnsubmitted?e:Q(e.id,re(e.controls,function(e){return new D(e)}),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:!1})}(e=function(e,t){if(t.type!==A.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);var r=re(e.controls,function(e){return new A(e)});return r===e.controls?e:Q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:!0})}(e=function(e,t){return t.type!==T.TYPE?e:t.controlId!==e.id?ne(e,t):e.isUntouched?e:Q(e.id,re(e.controls,function(e){return new T(e)}),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!1,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==E.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);var r=re(e.controls,function(e){return new E(e)});return r===e.controls?e:Q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!0,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){return t.type!==O.TYPE?e:t.controlId!==e.id?ne(e,t):e.isPristine?e:Q(e.id,re(e.controls,function(e){return new O(e)}),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!1,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==v.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);var r=re(e.controls,function(e){return new v(e)});return r===e.controls?e:Q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){return t.type!==S.TYPE?e:t.controlId!==e.id?ne(e,t):e.isDisabled?e:Q(e.id,re(e.controls,function(e){return new S(e)}),e.value,{},[],e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:!1,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==w.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);var r=re(e.controls,function(e){return new w(e)});return r===e.controls&&e.isEnabled?e:Q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:!0,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==g.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);var r="$"+t.name,n=e.errors;e.errors.hasOwnProperty(r)&&delete(n=u({},e.errors))[r];var i=e.pendingValidations.filter(function(e){return e!==t.name});return n===e.errors&&i.length===e.pendingValidations.length?e:Q(e.id,e.controls,e.value,n,i,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){var r;if(t.type!==m.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);if(e.isDisabled)return e;var n="$"+t.name,i=t.value;H(e.errors[n],t.value)&&(i=e.errors[n]);var o=u({},e.errors,((r={})[n]=i,r)),s=e.pendingValidations.filter(function(e){return e!==t.name});return Q(e.id,e.controls,e.value,o,s,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==b.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);if(e.pendingValidations.indexOf(t.name)>=0)return e;var r=p(e.pendingValidations,[t.name]);return Q(e.id,e.controls,e.value,e.errors,r,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==y.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);if(e.isDisabled)return e;if(e.errors===t.errors)return e;if(H(e.errors,t.errors))return e;if(!t.errors||"object"!=typeof t.errors||Array.isArray(t.errors))throw new Error("Control errors must be an object; got "+t.errors);if(Object.keys(t.errors).some(function(e){return e.startsWith("_")}))throw new Error("Control errors must not use underscore as a prefix; got "+JSON.stringify(t.errors));if(Object.keys(t.errors).some(function(e){return e.startsWith("$")}))throw new Error("Control errors must not use $ as a prefix; got "+JSON.stringify(t.errors));var r=Object.keys(e.errors).filter(function(e){return e.startsWith("_")||e.startsWith("$")}).reduce(function(t,r){var n;return Object.assign(t,((n={})[r]=e.errors[r],n))},{}),n=Object.assign(r,t.errors);return Q(e.id,e.controls,e.value,n,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==h.TYPE)return e;if(t.controlId!==e.id)return ne(e,t);if(e.value===t.value)return e;if(t.value instanceof Date)throw new Error("Date values are not supported. Please used serialized strings instead.");var r=t.value,n=r.map(function(t,r){return e.controls[r]?de(e.controls[r],new h(e.controls[r].id,t)):J(e.id+"."+r,t)});return Q(e.id,n,r,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,t),t),t),t),t),t),t),t),t),t),t),t),t),t),t),t),t),t),t)}function ae(e,t){if(!e)throw new Error("The array state must be defined!");return ue(e,t)}function de(e,t){if(!e)throw new Error("The form state must be defined!");if(!M(e))throw new Error("state must be a form state, got "+e);return G(e)?he(e,t):$(e)?ae(e,t):te(e,t)}function ce(e,t){return Object.keys(e).reduce(function(e,r){return function(e,t,r){var n,i=e[t];return M(i)?u({},e,((n={})[t]=de(i,r),n)):e}(e,r,t)},e)}function le(e,t){var r=!1,n=Object.keys(e).reduce(function(n,i){var o;return Object.assign(n,((o={})[i]=de(e[i],t(e[i].id)),o)),r=r||n[i]!==e[i],n},{});return r?n:e}function fe(e,t){var r=function(e,t){var r=!1,n=Object.keys(e).map(function(r){return[r,de(e[r],t)]}).reduce(function(t,n){var i,o=f(n,2),s=o[0],u=o[1];return r=r||u!==e[s],Object.assign(t,((i={})[s]=u,i))},{});return r?n:e}(e.controls,t);return e.controls===r?e:q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}function pe(e,t){if(!G(e))throw new Error("The state must be a group state");if(!k(t))return e;if(!t.controlId.startsWith(e.id))return e;switch(t.type){case P.TYPE:case I.TYPE:case V.TYPE:case j.TYPE:return fe(e,t)}return e=function(e,t){return t.type!==F.TYPE?e:t.controlId!==e.id?fe(e,t):e.isPristine&&e.isUntouched&&e.isUnsubmitted?e:q(e.id,le(e.controls,function(e){return new F(e)}),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!1,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!1,wasOrShouldBeSubmitted:!1})}(e=function(e,t){var r;return t.type!==Y.TYPE?e:t.controlId!==e.id?fe(e,t):e.userDefinedProperties[t.name]===t.value?e:u({},e,{userDefinedProperties:u({},e.userDefinedProperties,(r={},r[t.name]=t.value,r))})}(e=function(e,t){if(t.type!==R.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);if(!e.controls.hasOwnProperty(t.name))throw new Error("Group '"+e.id+"' does not have child control '"+t.name+"'!");var r=Object.assign({},e.controls);return delete r[t.name],q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){var r;if(t.type!==x.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);if(e.controls.hasOwnProperty(t.name))throw new Error("Group '"+e.id+"' already has child control '"+t.name+"'!");var n=Object.assign({},e.controls,((r={})[t.name]=J(e.id+"."+t.name,t.value),r));return q(e.id,n,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){return t.type!==D.TYPE?e:t.controlId!==e.id?fe(e,t):e.isUnsubmitted?e:q(e.id,le(e.controls,function(e){return new D(e)}),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:!1})}(e=function(e,t){if(t.type!==A.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);var r=le(e.controls,function(e){return new A(e)});return r===e.controls?e:q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:!0})}(e=function(e,t){return t.type!==T.TYPE?e:t.controlId!==e.id?fe(e,t):e.isUntouched?e:q(e.id,le(e.controls,function(e){return new T(e)}),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!1,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==E.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);var r=le(e.controls,function(e){return new E(e)});return r===e.controls?e:q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:!0,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){return t.type!==O.TYPE?e:t.controlId!==e.id?fe(e,t):e.isPristine?e:q(e.id,le(e.controls,function(e){return new O(e)}),e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!1,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==v.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);var r=le(e.controls,function(e){return new v(e)});return r===e.controls?e:q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:!0,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){return t.type!==S.TYPE?e:t.controlId!==e.id?fe(e,t):e.isDisabled?e:q(e.id,le(e.controls,function(e){return new S(e)}),e.value,{},[],e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:!1,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==w.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);var r=le(e.controls,function(e){return new w(e)});return r===e.controls?e:q(e.id,r,e.value,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:!0,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==g.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);var r="$"+t.name,n=e.errors;n.hasOwnProperty(r)&&delete(n=u({},e.errors))[r];var i=e.pendingValidations.filter(function(e){return e!==t.name});return n===e.errors&&i.length===e.pendingValidations.length?e:q(e.id,e.controls,e.value,n,i,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){var r;if(t.type!==m.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);if(e.isDisabled)return e;var n="$"+t.name,i=t.value;H(e.errors[n],t.value)&&(i=e.errors[n]);var o=u({},e.errors,((r={})[n]=i,r)),s=e.pendingValidations.filter(function(e){return e!==t.name});return q(e.id,e.controls,e.value,o,s,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==b.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);if(e.pendingValidations.indexOf(t.name)>=0)return e;var r=p(e.pendingValidations,[t.name]);return q(e.id,e.controls,e.value,e.errors,r,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==y.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);if(e.isDisabled)return e;if(e.errors===t.errors)return e;if(H(e.errors,t.errors))return e;if(!t.errors||"object"!=typeof t.errors||Array.isArray(t.errors))throw new Error("Control errors must be an object; got "+t.errors);if(Object.keys(t.errors).some(function(e){return e.startsWith("_")}))throw new Error("Control errors must not use underscore as a prefix; got "+JSON.stringify(t.errors));if(Object.keys(t.errors).some(function(e){return e.startsWith("$")}))throw new Error("Control errors must not use $ as a prefix; got "+JSON.stringify(t.errors));var r=Object.keys(e.errors).filter(function(e){return e.startsWith("_")||e.startsWith("$")}).reduce(function(t,r){var n;return Object.assign(t,((n={})[r]=e.errors[r],n))},{}),n=Object.assign(r,t.errors);return q(e.id,e.controls,e.value,n,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e=function(e,t){if(t.type!==h.TYPE)return e;if(t.controlId!==e.id)return fe(e,t);if(e.value===t.value)return e;if(t.value instanceof Date)throw new Error("Date values are not supported. Please used serialized strings instead.");var r=t.value,n=Object.keys(r).reduce(function(t,n){var i,o;return e.controls[n]?Object.assign(t,((o={})[n]=de(e.controls[n],new h(e.controls[n].id,r[n])),o)):Object.assign(t,((i={})[n]=J(e.id+"."+n,r[n]),i)),t},{});return q(e.id,n,r,e.errors,e.pendingValidations,e.userDefinedProperties,{wasOrShouldBeDirty:e.isDirty,wasOrShouldBeEnabled:e.isEnabled,wasOrShouldBeTouched:e.isTouched,wasOrShouldBeSubmitted:e.isSubmitted})}(e,t),t),t),t),t),t),t),t),t),t),t),t),t),t),t),t),t)}function he(e,t){if(!e)throw new Error("The group state must be defined!");return pe(e,t)}function ye(e,t){return $(e)?ae(e,t):G(e)?he(e,t):te(e,t)}function me(e){if(!e)throw new Error("state must not be undefined!");return e}function ge(e,t){return function(r){var n=function(e,t){return function(r){var n=!1,i=r.controls.map(function(i,o){if(!e(i,o))return i;var s=t(i,r);return n=n||s!==i,s});return n?i:r.controls}}(e,t)(r);return n!==r.controls?Q(r.id,n,r.value,r.errors,r.pendingValidations,r.userDefinedProperties,{wasOrShouldBeDirty:r.isDirty,wasOrShouldBeEnabled:r.isEnabled,wasOrShouldBeTouched:r.isTouched,wasOrShouldBeSubmitted:r.isSubmitted}):r}}function be(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if($(e)){var i=Array.isArray(t)?t:[t];return i.concat.apply(i,p(r)).reduce(function(e,t){return ge(function(){return!0},t)(e)},e)}var o=Array.isArray(e)?e:[e];return o=t===undefined?o:o.concat(t),function(e){return be(me(e),o.concat(r))}}function ve(e){return function(t){var r=function(e){return function(t){var r=!1,n=Object.keys(t.controls).reduce(function(n,i){var o,s,u=t.controls[i];if(Object.assign(n,((o={})[i]=u,o)),e.hasOwnProperty(i)){var a=e[i](u,t);r=r||a!==u,Object.assign(n,((s={})[i]=a,s))}return n},{});return r?n:t.controls}}(e)(t);return r!==t.controls?q(t.id,r,t.value,t.errors,t.pendingValidations,t.userDefinedProperties,{wasOrShouldBeDirty:t.isDirty,wasOrShouldBeEnabled:t.isEnabled,wasOrShouldBeTouched:t.isTouched,wasOrShouldBeSubmitted:t.isSubmitted}):t}}function Oe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(G(e)){var i=Array.isArray(t)?t:[t];return i.concat.apply(i,p(r)).reduce(function(e,t){return ve(t)(e)},e)}var o=Array.isArray(e)?e:[e];return o=t===undefined?o:o.concat(t),function(e){return Oe(me(e),o.concat(r))}}var we=new t.InjectionToken("NgrxFormViewAdapter"),Se=function(){function e(e,t){this.renderer=e,this.elementRef=t,this.nativeIdWasSet=!1,this.onChange=function(){},this.onTouched=function(){}}var r;return r=e,Object.defineProperty(e.prototype,"ngrxFormControlState",{set:function(e){if(!e)throw new Error("The control state must not be undefined!");this.state=e;var t=this.elementRef.nativeElement.id;e.id!==t&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",e.id)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement.id;this.state.id!==e&&!e&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)},e.prototype.setViewValue=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"checked",e)},e.prototype.setOnChangeCallback=function(e){this.onChange=e},e.prototype.setOnTouchedCallback=function(e){this.onTouched=e},e.prototype.setIsDisabled=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)},e.prototype.handleInput=function(e){var t=e.target;this.onChange(t.checked)},a([t.HostListener("blur"),c("design:type",Function)],e.prototype,"onTouched",void 0),a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormControlState",null),a([t.HostListener("change",["$event"]),c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",void 0)],e.prototype,"handleInput",null),e=r=a([t.Directive({selector:"input[type=checkbox][ngrxFormControlState]",providers:[{provide:we,useExisting:t.forwardRef(function(){return r}),multi:!0}]}),c("design:paramtypes",[t.Renderer2,t.ElementRef])],e)}();var Ee=function(){function e(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=null),this.renderer=e,this.elementRef=t,this.platformId=n,this.nativeIdWasSet=!1,this.onChange=function(){},this.onTouched=function(){},this.isComposing=!1,this.isCompositionSupported=r.isPlatformBrowser(this.platformId||"")&&!function(e){return/android (\d+)/.test(e.userAgent.toLowerCase())}(i||window.navigator)}var n;return n=e,Object.defineProperty(e.prototype,"ngrxFormControlState",{set:function(e){if(!e)throw new Error("The control state must not be undefined!");this.state=e;var t=this.elementRef.nativeElement.id;e.id!==t&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",e.id)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement.id;this.state.id!==e&&!e&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)},e.prototype.setViewValue=function(e){var t=null==e?"":e;this.renderer.setProperty(this.elementRef.nativeElement,"value",t)},e.prototype.setOnChangeCallback=function(e){this.onChange=e},e.prototype.setOnTouchedCallback=function(e){this.onTouched=e},e.prototype.setIsDisabled=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)},e.prototype.handleInput=function(e){var t=e.target;this.isCompositionSupported&&this.isComposing||this.onChange(t.value)},e.prototype.compositionStart=function(){this.isComposing=!0},e.prototype.compositionEnd=function(e){var t=e.target;this.isComposing=!1,this.isCompositionSupported&&this.onChange(t.value)},a([t.HostListener("blur"),c("design:type",Function)],e.prototype,"onTouched",void 0),a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormControlState",null),a([t.HostListener("input",["$event"]),c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",void 0)],e.prototype,"handleInput",null),a([t.HostListener("compositionstart"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],e.prototype,"compositionStart",null),a([t.HostListener("compositionend",["$event"]),c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",void 0)],e.prototype,"compositionEnd",null),e=n=a([t.Directive({selector:"input:not([type=checkbox]):not([type=number]):not([type=radio]):not([type=range])[ngrxFormControlState],textarea[ngrxFormControlState]",providers:[{provide:we,useExisting:t.forwardRef(function(){return n}),multi:!0}]}),d(2,t.Optional()),d(2,t.Inject(t.PLATFORM_ID)),d(3,t.Optional()),d(3,t.Inject("ngrx-forms/never")),c("design:paramtypes",[t.Renderer2,t.ElementRef,Object,Object])],e)}(),Te=function(){function e(e,t){this.renderer=e,this.elementRef=t,this.nativeIdWasSet=!1,this.onChange=function(){},this.onTouched=function(){}}var r;return r=e,Object.defineProperty(e.prototype,"ngrxFormControlState",{set:function(e){if(!e)throw new Error("The control state must not be undefined!");this.state=e;var t=this.elementRef.nativeElement.id;e.id!==t&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",e.id)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement.id;this.state.id!==e&&!e&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)},e.prototype.setViewValue=function(e){var t=null===e?"":e;this.renderer.setProperty(this.elementRef.nativeElement,"value",t)},e.prototype.setOnChangeCallback=function(e){this.onChange=e},e.prototype.setOnTouchedCallback=function(e){this.onTouched=e},e.prototype.setIsDisabled=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)},e.prototype.handleInput=function(e){var t=e.target.value;this.onChange(""===t?null:parseFloat(t))},a([t.HostListener("blur"),c("design:type",Function)],e.prototype,"onTouched",void 0),a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormControlState",null),a([t.HostListener("change",["$event"]),t.HostListener("input",["$event"]),c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",void 0)],e.prototype,"handleInput",null),e=r=a([t.Directive({selector:"input[type=number][ngrxFormControlState]",providers:[{provide:we,useExisting:t.forwardRef(function(){return r}),multi:!0}]}),c("design:paramtypes",[t.Renderer2,t.ElementRef])],e)}(),Pe=function(){function e(e,t){this.renderer=e,this.elementRef=t,this.optionMap={},this.idCounter=0,this.selectedId=null,this.value=undefined,this.nativeIdWasSet=!1,this.onChangeFn=function(){},this.onTouched=function(){}}var r;return r=e,Object.defineProperty(e.prototype,"ngrxFormControlState",{set:function(e){if(!e)throw new Error("The control state must not be undefined!");this.state=e;var t=this.elementRef.nativeElement.id;e.id!==t&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",e.id)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement.id;this.state.id!==e&&!e&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)},e.prototype.setViewValue=function(e){this.value=e,this.selectedId=this.getOptionId(e),null===this.selectedId&&this.renderer.setProperty(this.elementRef.nativeElement,"selectedIndex",-1),this.renderer.setProperty(this.elementRef.nativeElement,"value",this.selectedId)},e.prototype.onChange=function(e){var t=e.target;this.selectedId=t.value;var r=this.optionMap[this.selectedId];this.value=r,this.onChangeFn(r)},e.prototype.setOnChangeCallback=function(e){this.onChangeFn=e},e.prototype.setOnTouchedCallback=function(e){this.onTouched=e},e.prototype.setIsDisabled=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)},e.prototype.createOptionId=function(){var e=this.idCounter.toString();return this.idCounter+=1,e},e.prototype.updateOptionValue=function(e,t){this.optionMap[e]=t,this.selectedId===e?this.onChangeFn(t):t===this.value&&this.setViewValue(t)},e.prototype.deregisterOption=function(e){delete this.optionMap[e]},e.prototype.getOptionId=function(e){var t,r;try{for(var n=l(Array.from(Object.keys(this.optionMap))),i=n.next();!i.done;i=n.next()){var o=i.value;if(this.optionMap[o]===e)return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(r=n["return"])&&r.call(n)}finally{if(t)throw t.error}}return null},a([t.HostListener("blur"),c("design:type",Function)],e.prototype,"onTouched",void 0),a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormControlState",null),a([t.HostListener("change",["$event"]),c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",void 0)],e.prototype,"onChange",null),e=r=a([t.Directive({selector:"select:not([multiple])[ngrxFormControlState]",providers:[{provide:we,useExisting:t.forwardRef(function(){return r}),multi:!0}]}),c("design:paramtypes",[t.Renderer2,t.ElementRef])],e)}(),Ie={createOptionId:function(){return""},deregisterOption:function(){},updateOptionValue:function(){}},Ae={setProperty:function(){}},De=function(){function e(e,t,r){this.element=e,this.renderer=t,this.viewAdapter=r,this.isInitialized=!1,this.renderer=r?t:Ae,this.viewAdapter=r||Ie,this.id=this.viewAdapter.createOptionId()}return Object.defineProperty(e.prototype,"value",{set:function(e){this.isInitialized||(this.isInitialized=!0,this.renderer.setProperty(this.element.nativeElement,"value",this.id)),this.viewAdapter.updateOptionValue(this.id,e)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.viewAdapter.deregisterOption(this.id)},a([t.Input("value"),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"value",null),e=a([t.Directive({selector:"option"}),d(2,t.Host()),d(2,t.Optional()),c("design:paramtypes",[t.ElementRef,t.Renderer2,Pe])],e)}(),Ve=function(){function e(e,t){this.renderer=e,this.elementRef=t,this.options={},this.optionValues={},this.idCounter=0,this.selectedIds=[],this.nativeIdWasSet=!1,this.onChangeFn=function(){},this.onTouched=function(){}}var r;return r=e,Object.defineProperty(e.prototype,"ngrxFormControlState",{set:function(e){if(!e)throw new Error("The control state must not be undefined!");this.state=e;var t=this.elementRef.nativeElement.id;e.id!==t&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",e.id)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement.id;this.state.id!==e&&!e&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)},e.prototype.setViewValue=function(e){var t=this;if(null===e&&(e=[]),!Array.isArray(e))throw new Error("the value provided to a NgrxSelectMultipleViewAdapter must be null or an array; got "+e+" of type "+typeof e);this.selectedIds=e.map(function(e){return t.getOptionId(e)}).filter(function(e){return null!==e}).map(function(e){return e}),Object.keys(this.options).forEach(function(e){return t.options[e].isSelected=t.selectedIds.indexOf(e)>=0})},e.prototype.onChange=function(){var e=this;this.selectedIds=Object.keys(this.options).filter(function(t){return e.options[t].isSelected});var t=this.selectedIds.map(function(t){return e.optionValues[t]});this.onChangeFn(t)},e.prototype.setOnChangeCallback=function(e){this.onChangeFn=e},e.prototype.setOnTouchedCallback=function(e){this.onTouched=e},e.prototype.setIsDisabled=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)},e.prototype.registerOption=function(e){var t=this.idCounter.toString();return this.options[t]=e,this.idCounter+=1,t},e.prototype.updateOptionValue=function(e,t){this.optionValues[e]=t,this.selectedIds.indexOf(e)>=0&&this.onChange()},e.prototype.deregisterOption=function(e){delete this.options[e],delete this.optionValues[e]},e.prototype.getOptionId=function(e){var t,r;try{for(var n=l(Array.from(Object.keys(this.optionValues))),i=n.next();!i.done;i=n.next()){var o=i.value;if(this.optionValues[o]===e)return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(r=n["return"])&&r.call(n)}finally{if(t)throw t.error}}return null},a([t.HostListener("blur"),c("design:type",Function)],e.prototype,"onTouched",void 0),a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormControlState",null),a([t.HostListener("change"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],e.prototype,"onChange",null),e=r=a([t.Directive({selector:"select[multiple][ngrxFormControlState]",providers:[{provide:we,useExisting:t.forwardRef(function(){return r}),multi:!0}]}),c("design:paramtypes",[t.Renderer2,t.ElementRef])],e)}(),xe={registerOption:function(){return""},deregisterOption:function(){},updateOptionValue:function(){}},je={setProperty:function(){}},Be=function(){function e(e,t,r){this.element=e,this.renderer=t,this.viewAdapter=r,this.renderer=r?t:je,this.viewAdapter=r||xe,this.id=this.viewAdapter.registerOption(this)}return Object.defineProperty(e.prototype,"value",{set:function(e){this.viewAdapter.updateOptionValue(this.id,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.element.nativeElement.selected},set:function(e){this.renderer.setProperty(this.element.nativeElement,"selected",e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.renderer.setProperty(this.element.nativeElement,"value",this.id)},e.prototype.ngOnDestroy=function(){this.viewAdapter.deregisterOption(this.id)},a([t.Input("value"),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"value",null),e=a([t.Directive({selector:"option"}),d(2,t.Host()),d(2,t.Optional()),c("design:paramtypes",[t.ElementRef,t.Renderer2,Ve])],e)}(),Ce={setProperty:function(){}},Re=function(){function e(e,t,r,n){this.element=e,this.renderer=t,this.renderer=r||n?Ce:t}return Object.defineProperty(e.prototype,"value",{set:function(e){this.renderer.setProperty(this.element.nativeElement,"value",e)},enumerable:!0,configurable:!0}),a([t.Input("value"),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"value",null),e=a([t.Directive({selector:"option"}),d(2,t.Host()),d(2,t.Optional()),d(3,t.Host()),d(3,t.Optional()),c("design:paramtypes",[t.ElementRef,t.Renderer2,Pe,Ve])],e)}(),Ye=function(){function e(e,t){this.renderer=e,this.elementRef=t,this.nativeNameWasSet=!1,this.onChange=function(){},this.onTouched=function(){}}var r;return r=e,Object.defineProperty(e.prototype,"value",{set:function(e){e!==this.latestValue&&(this.latestValue=e,this.isChecked&&this.onChange())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngrxFormControlState",{set:function(e){if(!e)throw new Error("The control state must not be undefined!");this.state=e;var t=this.elementRef.nativeElement.name;e.id!==t&&this.nativeNameWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"name",e.id)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.isChecked=this.elementRef.nativeElement.checked},e.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement.name;this.state.id!==e&&!e&&(this.renderer.setProperty(this.elementRef.nativeElement,"name",this.state.id),this.nativeNameWasSet=!0)},e.prototype.setViewValue=function(e){this.isChecked=e===this.latestValue,this.renderer.setProperty(this.elementRef.nativeElement,"checked",this.isChecked)},e.prototype.setOnChangeCallback=function(e){var t=this;this.onChange=function(){return e(t.latestValue)}},e.prototype.setOnTouchedCallback=function(e){this.onTouched=e},e.prototype.setIsDisabled=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)},a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"value",null),a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormControlState",null),a([t.HostListener("change"),c("design:type",Function)],e.prototype,"onChange",void 0),a([t.HostListener("blur"),c("design:type",Function)],e.prototype,"onTouched",void 0),e=r=a([t.Directive({selector:"input[type=radio][ngrxFormControlState]",providers:[{provide:we,useExisting:t.forwardRef(function(){return r}),multi:!0}]}),c("design:paramtypes",[t.Renderer2,t.ElementRef])],e)}(),Fe=function(){function e(e,t){this.renderer=e,this.elementRef=t,this.nativeIdWasSet=!1,this.onChange=function(){},this.onTouched=function(){}}var r;return r=e,Object.defineProperty(e.prototype,"ngrxFormControlState",{set:function(e){if(!e)throw new Error("The control state must not be undefined!");this.state=e;var t=this.elementRef.nativeElement.id;e.id!==t&&this.nativeIdWasSet&&this.renderer.setProperty(this.elementRef.nativeElement,"id",e.id)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement.id;this.state.id!==e&&!e&&(this.renderer.setProperty(this.elementRef.nativeElement,"id",this.state.id),this.nativeIdWasSet=!0)},e.prototype.setViewValue=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"value",parseFloat(e))},e.prototype.setOnChangeCallback=function(e){this.onChange=e},e.prototype.setOnTouchedCallback=function(e){this.onTouched=e},e.prototype.setIsDisabled=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)},e.prototype.handleInput=function(e){var t=e.target.value;this.onChange(""===t?null:parseFloat(t))},a([t.HostListener("blur"),c("design:type",Function)],e.prototype,"onTouched",void 0),a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormControlState",null),a([t.HostListener("change",["$event"]),t.HostListener("input",["$event"]),c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",void 0)],e.prototype,"handleInput",null),e=r=a([t.Directive({selector:"input[type=range][ngrxFormControlState]",providers:[{provide:we,useExisting:t.forwardRef(function(){return r}),multi:!0}]}),c("design:paramtypes",[t.Renderer2,t.ElementRef])],e)}(),ke=[Se,Fe,Te,Pe,Ve,Ye];function Ne(e){if(!e)throw new Error("No view adapter matches!");var t,r,n;if(e.forEach(function(e){if(e.constructor===Ee)t=e;else if(i=e,ke.some(function(e){return i.constructor===e})){if(r)throw new Error("More than one built-in view adapter matches!");r=e}else{if(n)throw new Error("More than one custom view adapter matches!");n=e}var i}),n)return n;if(r)return r;if(t)return t;throw new Error("No valid view adapter!")}var _e,Ue={"default":function(){return{convertViewToStateValue:function(e){return"object"==typeof e&&null!==e?U(e):e},convertStateToViewValue:L}},dateToISOString:{convertViewToStateValue:function(e){return null===e?null:e.toISOString()},convertStateToViewValue:function(e){return null===e?null:new Date(Date.parse(e))}},objectToJSON:{convertViewToStateValue:function(e){return null===e?null:JSON.stringify(e)},convertStateToViewValue:function(e){return null===e?null:JSON.parse(e)}}};!function(e){e.CHANGE="change",e.BLUR="blur",e.NEVER="never"}(_e||(_e={}));var Le=function(){function e(e){this.valueAccessor=e}return e.prototype.setViewValue=function(e){this.valueAccessor.writeValue(e)},e.prototype.setOnChangeCallback=function(e){this.valueAccessor.registerOnChange(e)},e.prototype.setOnTouchedCallback=function(e){this.valueAccessor.registerOnTouched(e)},e.prototype.setIsDisabled=function(e){this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(e)},e}(),We=function(){function e(e,t,r,n,i){if(this.el=e,this.dom=t,this.actionsSubject=r,this.isInitialized=!1,this.focusTrackingIsEnabled=!1,this.ngrxUpdateOn=_e.CHANGE,this.ngrxValueConverter=Ue["default"](),n=n||[],(i=i||[]).length>1)throw new Error("More than one custom control value accessor matches!");this.viewAdapter=i.length>0?new Le(i[0]):Ne(n)}return Object.defineProperty(e.prototype,"ngrxFormControlState",{set:function(e){if(!e)throw new Error("The control state must not be undefined!");var t=this.state;this.state=e,this.isInitialized&&(this.updateViewIfControlIdChanged(e,t),this.updateViewIfValueChanged(e,t),this.updateViewIfIsDisabledChanged(e,t),this.updateViewIfIsFocusedChanged(e,t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngrxEnableFocusTracking",{set:function(e){if(e&&!this.dom)throw new Error("focus tracking is only supported on the browser platform");this.focusTrackingIsEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusRegionStartAttr",{get:function(){return this.state&&this.state.isFocused?"":null},enumerable:!0,configurable:!0}),e.prototype.updateViewIfControlIdChanged=function(e,t){t&&e.id===t.id||(this.stateValue=e.value,this.viewValue=this.ngrxValueConverter.convertStateToViewValue(this.stateValue),this.viewAdapter.setViewValue(this.viewValue),this.viewAdapter.setIsDisabled&&this.viewAdapter.setIsDisabled(e.isDisabled))},e.prototype.updateViewIfValueChanged=function(e,t){e.value!==this.stateValue&&(this.stateValue=e.value,this.viewValue=this.ngrxValueConverter.convertStateToViewValue(e.value),this.viewAdapter.setViewValue(this.viewValue))},e.prototype.updateViewIfIsDisabledChanged=function(e,t){this.viewAdapter.setIsDisabled&&(t&&e.isDisabled===t.isDisabled||this.viewAdapter.setIsDisabled(e.isDisabled))},e.prototype.updateViewIfIsFocusedChanged=function(e,t){this.focusTrackingIsEnabled&&(t&&e.isFocused===t.isFocused||(e.isFocused?this.el.nativeElement.focus():this.el.nativeElement.blur()))},e.prototype.dispatchAction=function(e){if(null===this.actionsSubject)throw new Error("ActionsSubject must be present in order to dispatch actions!");this.actionsSubject.next(e)},e.prototype.ngOnInit=function(){var e=this;if(!this.state)throw new Error("The form state must not be undefined!");this.isInitialized=!0,this.updateViewIfControlIdChanged(this.state,undefined),this.updateViewIfValueChanged(this.state,undefined),this.updateViewIfIsDisabledChanged(this.state,undefined),this.updateViewIfIsFocusedChanged(this.state,undefined);var t=function(){e.stateValue=e.ngrxValueConverter.convertViewToStateValue(e.viewValue),e.stateValue!==e.state.value&&(e.dispatchAction(new h(e.state.id,e.stateValue)),e.state.isPristine&&e.dispatchAction(new v(e.state.id)))};this.viewAdapter.setOnChangeCallback(function(r){e.viewValue=r,e.ngrxUpdateOn===_e.CHANGE&&t()}),this.viewAdapter.setOnTouchedCallback(function(){e.state.isTouched||e.ngrxUpdateOn===_e.NEVER||e.dispatchAction(new E(e.state.id)),e.ngrxUpdateOn===_e.BLUR&&t()})},e.prototype.ngAfterViewInit=function(){this.viewAdapter.setViewValue(this.viewValue),this.viewAdapter.setIsDisabled&&this.viewAdapter.setIsDisabled(this.state.isDisabled)},e.prototype.onFocusChange=function(){if(this.focusTrackingIsEnabled){var e=this.el.nativeElement===this.dom.activeElement;e!==this.state.isFocused&&this.dispatchAction(e?new P(this.state.id):new I(this.state.id))}},a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormControlState",null),a([t.Input(),c("design:type",String)],e.prototype,"ngrxUpdateOn",void 0),a([t.Input(),c("design:type",Boolean),c("design:paramtypes",[Boolean])],e.prototype,"ngrxEnableFocusTracking",null),a([t.Input(),c("design:type",Object)],e.prototype,"ngrxValueConverter",void 0),a([t.HostBinding("attr.cdk-focus-region-start"),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"focusRegionStartAttr",null),a([t.HostListener("focusin"),t.HostListener("focusout"),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],e.prototype,"onFocusChange",null),e=a([t.Directive({selector:":not([ngrxFormsAction])[ngrxFormControlState]"}),d(1,t.Optional()),d(1,t.Inject(r.DOCUMENT)),d(2,t.Optional()),d(2,t.Inject(i.ActionsSubject)),d(3,t.Self()),d(3,t.Optional()),d(3,t.Inject(we)),d(4,t.Self()),d(4,t.Optional()),d(4,t.Inject(n.NG_VALUE_ACCESSOR)),c("design:paramtypes",[t.ElementRef,Object,Object,Array,Array])],e)}(),He=function(e){function i(r,n,i,o){var s=e.call(this,r,n,null,i,o)||this;return s.ngrxFormsAction=new t.EventEmitter,s}return s(i,e),i.prototype.dispatchAction=function(e){this.ngrxFormsAction.emit(e)},a([t.Output(),c("design:type",Object)],i.prototype,"ngrxFormsAction",void 0),i=a([t.Directive({selector:"[ngrxFormControlState][ngrxFormsAction]"}),d(1,t.Optional()),d(1,t.Inject(r.DOCUMENT)),d(2,t.Self()),d(2,t.Optional()),d(2,t.Inject(we)),d(3,t.Self()),d(3,t.Optional()),d(3,t.Inject(n.NG_VALUE_ACCESSOR)),c("design:paramtypes",[t.ElementRef,Object,Array,Array])],i)}(We),Me=function(){function e(e){this.actionsSubject=e,this.actionsSubject=e}return e.prototype.dispatchAction=function(e){if(null===this.actionsSubject)throw new Error("ActionsSubject must be present in order to dispatch actions!");this.actionsSubject.next(e)},e.prototype.ngOnInit=function(){if(!this.state)throw new Error("The form state must not be undefined!")},e.prototype.onSubmit=function(e){e.preventDefault(),this.state.isUnsubmitted&&this.dispatchAction(new A(this.state.id))},a([t.Input("ngrxFormState"),c("design:type",Object)],e.prototype,"state",void 0),a([t.HostListener("submit",["$event"]),c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",void 0)],e.prototype,"onSubmit",null),e=a([t.Directive({selector:"form:not([ngrxFormsAction])[ngrxFormState]"}),d(0,t.Optional()),d(0,t.Inject(i.ActionsSubject)),c("design:paramtypes",[Object])],e)}(),$e=function(e){function r(){var r=e.call(this,null)||this;return r.ngrxFormsAction=new t.EventEmitter,r}return s(r,e),r.prototype.dispatchAction=function(e){this.ngrxFormsAction.emit(e)},a([t.Output(),c("design:type",Object)],r.prototype,"ngrxFormsAction",void 0),r=a([t.Directive({selector:"form[ngrxFormState][ngrxFormsAction]"}),c("design:paramtypes",[])],r)}(Me),Ge={isValid:"ngrx-forms-valid",isInvalid:"ngrx-forms-invalid",isDirty:"ngrx-forms-dirty",isPristine:"ngrx-forms-pristine",isTouched:"ngrx-forms-touched",isUntouched:"ngrx-forms-untouched",isSubmitted:"ngrx-forms-submitted",isUnsubmitted:"ngrx-forms-unsubmitted",isValidationPending:"ngrx-forms-validation-pending"},Je=function(){function e(){}return Object.defineProperty(e.prototype,"ngrxFormControlState",{set:function(e){this.state=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngrxFormState",{set:function(e){this.state=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this.state.isValid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInvalid",{get:function(){return this.state.isInvalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.state.isDirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPristine",{get:function(){return this.state.isPristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTouched",{get:function(){return this.state.isTouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUntouched",{get:function(){return this.state.isUntouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSubmitted",{get:function(){return this.state.isSubmitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUnsubmitted",{get:function(){return this.state.isUnsubmitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValidationPending",{get:function(){return this.state.isValidationPending},enumerable:!0,configurable:!0}),a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormControlState",null),a([t.Input(),c("design:type",Object),c("design:paramtypes",[Object])],e.prototype,"ngrxFormState",null),a([t.HostBinding("class."+Ge.isValid),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"isValid",null),a([t.HostBinding("class."+Ge.isInvalid),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"isInvalid",null),a([t.HostBinding("class."+Ge.isDirty),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"isDirty",null),a([t.HostBinding("class."+Ge.isPristine),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"isPristine",null),a([t.HostBinding("class."+Ge.isTouched),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"isTouched",null),a([t.HostBinding("class."+Ge.isUntouched),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"isUntouched",null),a([t.HostBinding("class."+Ge.isSubmitted),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"isSubmitted",null),a([t.HostBinding("class."+Ge.isUnsubmitted),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"isUnsubmitted",null),a([t.HostBinding("class."+Ge.isValidationPending),c("design:type",Object),c("design:paramtypes",[])],e.prototype,"isValidationPending",null),e=a([t.Directive({selector:"form[ngrxFormState],[ngrxFormControlState]"})],e)}(),ze=[We,He,Me,$e,Se,Ee,Te,Ye,Fe,Be,Ve,De,Pe,Re,Je],Ke=function(){function e(){}return e=a([t.NgModule({declarations:ze,exports:ze})],e)}();e.ALL_NGRX_FORMS_ACTION_TYPES=N,e.AddArrayControlAction=V,e.AddGroupControlAction=x,e.ClearAsyncErrorAction=g,e.DisableAction=S,e.EnableAction=w,e.FocusAction=P,e.MarkAsDirtyAction=v,e.MarkAsPristineAction=O,e.MarkAsSubmittedAction=A,e.MarkAsTouchedAction=E,e.MarkAsUnsubmittedAction=D,e.MarkAsUntouchedAction=T,e.MoveArrayControlAction=C,e.NGRX_FORM_VIEW_ADAPTER=we,e.NGRX_STATUS_CLASS_NAMES=Ge,e.NgrxCheckboxViewAdapter=Se,e.NgrxDefaultViewAdapter=Ee,e.NgrxFallbackSelectOption=Re,e.NgrxFormControlDirective=We,e.NgrxFormDirective=Me,e.NgrxFormsModule=Ke,e.NgrxLocalFormControlDirective=He,e.NgrxLocalFormDirective=$e,e.NgrxNumberViewAdapter=Te,e.NgrxRadioViewAdapter=Ye,e.NgrxRangeViewAdapter=Fe,e.NgrxSelectMultipleOption=Be,e.NgrxSelectMultipleViewAdapter=Ve,e.NgrxSelectOption=De,e.NgrxSelectViewAdapter=Pe,e.NgrxStatusCssClassesDirective=Je,e.NgrxValueConverters=Ue,e.RemoveArrayControlAction=j,e.RemoveGroupControlAction=R,e.ResetAction=F,e.SetAsyncErrorAction=m,e.SetErrorsAction=y,e.SetUserDefinedPropertyAction=Y,e.SetValueAction=h,e.StartAsyncValidationAction=b,e.SwapArrayControlAction=B,e.UnfocusAction=I,e.addArrayControl=function qe(e,t,r){return $(e)?ae(e,new V(e.id,t,r)):function(r){return qe(me(r),e,t)}},e.addGroupControl=function Xe(e,t,r){return G(e)?he(e,new x(e.id,t,r)):function(r){return Xe(me(r),e,t)}},e.box=U,e.clearAsyncError=function Qe(e,t){return M(e)?ye(e,new g(e.id,t)):function(t){return Qe(me(t),e)}},e.compose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(e,t){return t(e)},t)}},e.createFormArrayState=Z,e.createFormControlState=K,e.createFormGroupState=X,e.createFormStateReducerWithUpdate=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t=p(Array.isArray(e)?e:[e],t),function(e,r){var n=de(e,r);return n===e?e:t.reduce(function(e,t){return t(e)},n)}},e.disable=function(e){return ye(e,new S(e.id))},e.enable=function(e){return ye(e,new w(e.id))},e.focus=function(e){return te(e,new P(e.id))},e.formArrayReducer=ae,e.formControlReducer=te,e.formGroupReducer=he,e.formStateReducer=de,e.isArrayState=$,e.isBoxed=_,e.isGroupState=G,e.isNgrxFormsAction=k,e.markAsDirty=function(e){return ye(e,new v(e.id))},e.markAsPristine=function(e){return ye(e,new O(e.id))},e.markAsSubmitted=function(e){return ye(e,new A(e.id))},e.markAsTouched=function(e){return ye(e,new E(e.id))},e.markAsUnsubmitted=function(e){return ye(e,new D(e.id))},e.markAsUntouched=function(e){return ye(e,new T(e.id))},e.onNgrxForms=function(){return{reducer:function(e,t){return ce(e,t)},types:N}},e.onNgrxFormsAction=function(e,t){return{reducer:function(e,r){return t(ce(e,r),r)},types:[e.TYPE]}},e.removeArrayControl=function Ze(e,t){return $(e)?ae(e,new j(e.id,t)):function(t){return Ze(me(t),e)}},e.removeGroupControl=function et(e,t){return G(e)?he(e,new R(e.id,t)):function(t){return et(me(t),e)}},e.reset=function(e){return ye(e,new F(e.id))},e.setAsyncError=function tt(e,t,r){return M(e)?ye(e,new m(e.id,t,r)):function(r){return tt(me(r),e,t)}},e.setErrors=function rt(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(M(e)){var i=Array.isArray(t)?t:[t],o=i.concat.apply(i,p(r)).reduce(function(e,t){return Object.assign(e,t)},{});return de(e,new y(e.id,o))}var s=Array.isArray(e)?e:[e];return s=t===undefined?s:s.concat(t),function(e){return rt(me(e),s.concat(r))}},e.setUserDefinedProperty=function nt(e,t,r){return M(e)?de(e,new Y(e.id,t,r)):function(r){return nt(me(r),e,t)}},e.setValue=function it(e,t){return M(e)?ye(e,new h(e.id,t)):function(t){return it(me(t),e)}},e.startAsyncValidation=function ot(e,t){return M(e)?ye(e,new b(e.id,t)):function(t){return ot(me(t),e)}},e.unbox=L,e.unfocus=function(e){return te(e,new I(e.id))},e.updateArray=be,e.updateArrayWithFilter=function st(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];if($(e)){var o=t,s=Array.isArray(r)?r:[r];return s.concat.apply(s,p(n)).reduce(function(e,t){return ge(o,t)(e)},e)}var u=Array.isArray(t)?t:[t];return u=r===undefined?u:u.concat(r),function(t){return st(me(t),e,u.concat(n))}},e.updateGroup=Oe,e.updateRecursive=function ut(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(M(e)){var i=Array.isArray(t)?t:[t];return i.concat.apply(i,p(r)).reduce(function(t,r){return function n(e,t){return function(r){return G(r)?(r=Oe(Object.keys(r.controls).reduce(function(e,r){var i;return Object.assign(e,((i={})[r]=function(e,r){return n(r,t)(e)},i))},{}))(r),t(r,e)):$(r)?(r=be(function(e,r){return n(r,t)(e)})(r),t(r,e)):t(r,e)}}(e,r)(t)},e)}var o=Array.isArray(e)?e:[e];return o=t===undefined?o:o.concat(t),function(e){return ut(me(e),o.concat(r))}},e.validate=function at(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(M(e)){var i=Array.isArray(t)?t:[t],o=i.concat.apply(i,p(r)).reduce(function(t,r){return Object.assign(t,r(e.value))},{});return de(e,new y(e.id,o))}var s=Array.isArray(e)?e:[e];return s=t===undefined?s:s.concat(t),function(e){return at(me(e),s.concat(r))}},e.wrapReducerWithFormStateUpdate=function(e,t,r){return function(n,i){var o,s=e(n,i),a=t(s),d=Object.keys(s).find(function(e){return s[e]===a}),c=r(a,s);return c===a?s:u({},s,((o={})[d]=c,o))}},e.ɵa=M,e.ɵb=z,e.ɵc=ye,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngrx-forms.umd.min.js.map
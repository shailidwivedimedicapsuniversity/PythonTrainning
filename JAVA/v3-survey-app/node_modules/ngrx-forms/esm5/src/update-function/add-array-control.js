import { AddArrayControlAction } from '../actions';
import { formArrayReducer } from '../array/reducer';
import { isArrayState } from '../state';
import { ensureState } from './util';
export function addArrayControl(valueOrState, indexOrValue, index) {
    if (isArrayState(valueOrState)) {
        return formArrayReducer(valueOrState, new AddArrayControlAction(valueOrState.id, indexOrValue, index));
    }
    return function (s) { return addArrayControl(ensureState(s), valueOrState, indexOrValue); };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRkLWFycmF5LWNvbnRyb2wuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3J4LWZvcm1zLyIsInNvdXJjZXMiOlsic3JjL3VwZGF0ZS1mdW5jdGlvbi9hZGQtYXJyYXktY29udHJvbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDbkQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFrQixZQUFZLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDeEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQWNyQyxNQUFNLFVBQVUsZUFBZSxDQUFTLFlBQTZDLEVBQUUsWUFBeUMsRUFBRSxLQUFjO0lBQzlJLElBQUksWUFBWSxDQUFDLFlBQVksQ0FBQyxFQUFFO1FBQzlCLE9BQU8sZ0JBQWdCLENBQUMsWUFBWSxFQUFFLElBQUkscUJBQXFCLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxZQUFzQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7S0FDbEg7SUFFRCxPQUFPLFVBQUMsQ0FBeUIsSUFBSyxPQUFBLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsWUFBc0IsRUFBRSxZQUFzQixDQUFDLEVBQS9FLENBQStFLENBQUM7QUFDeEgsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFkZEFycmF5Q29udHJvbEFjdGlvbiB9IGZyb20gJy4uL2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBmb3JtQXJyYXlSZWR1Y2VyIH0gZnJvbSAnLi4vYXJyYXkvcmVkdWNlcic7XHJcbmltcG9ydCB7IEZvcm1BcnJheVN0YXRlLCBpc0FycmF5U3RhdGUgfSBmcm9tICcuLi9zdGF0ZSc7XHJcbmltcG9ydCB7IGVuc3VyZVN0YXRlIH0gZnJvbSAnLi91dGlsJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIHVwZGF0ZSBmdW5jdGlvbiB0YWtlcyBhIHZhbHVlIGFuZCBvcHRpb25hbGx5IGFuIGluZGV4IGFuZCByZXR1cm5zIGEgcHJvamVjdGlvbiBmdW5jdGlvblxyXG4gKiB0aGF0IGFkZHMgYSBjaGlsZCBjb250cm9sIGF0IHRoZSBnaXZlbiBpbmRleCBvciBhdCB0aGUgZW5kIG9mIGEgZm9ybSBhcnJheSBzdGF0ZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRBcnJheUNvbnRyb2w8VFZhbHVlPih2YWx1ZTogVFZhbHVlLCBpbmRleD86IG51bWJlcik6IChzdGF0ZTogRm9ybUFycmF5U3RhdGU8VFZhbHVlPikgPT4gRm9ybUFycmF5U3RhdGU8VFZhbHVlPjtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIHVwZGF0ZSBmdW5jdGlvbiB0YWtlcyBhbiBhcnJheSBmb3JtIHN0YXRlLCBhIHZhbHVlLCBhbmQgb3B0aW9uYWxseSBhbiBpbmRleCBhbmQgYWRkcyBhXHJcbiAqIGNoaWxkIGNvbnRyb2wgYXQgdGhlIGdpdmVuIGluZGV4IG9yIGF0IHRoZSBlbmQgb2YgdGhlIHN0YXRlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFycmF5Q29udHJvbDxUVmFsdWU+KHN0YXRlOiBGb3JtQXJyYXlTdGF0ZTxUVmFsdWU+LCB2YWx1ZTogVFZhbHVlLCBpbmRleD86IG51bWJlcik6IEZvcm1BcnJheVN0YXRlPFRWYWx1ZT47XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkQXJyYXlDb250cm9sPFRWYWx1ZT4odmFsdWVPclN0YXRlOiBUVmFsdWUgfCBGb3JtQXJyYXlTdGF0ZTxUVmFsdWU+LCBpbmRleE9yVmFsdWU6IG51bWJlciB8IFRWYWx1ZSB8IHVuZGVmaW5lZCwgaW5kZXg/OiBudW1iZXIpIHtcclxuICBpZiAoaXNBcnJheVN0YXRlKHZhbHVlT3JTdGF0ZSkpIHtcclxuICAgIHJldHVybiBmb3JtQXJyYXlSZWR1Y2VyKHZhbHVlT3JTdGF0ZSwgbmV3IEFkZEFycmF5Q29udHJvbEFjdGlvbih2YWx1ZU9yU3RhdGUuaWQsIGluZGV4T3JWYWx1ZSBhcyBUVmFsdWUsIGluZGV4KSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKHM6IEZvcm1BcnJheVN0YXRlPFRWYWx1ZT4pID0+IGFkZEFycmF5Q29udHJvbChlbnN1cmVTdGF0ZShzKSwgdmFsdWVPclN0YXRlIGFzIFRWYWx1ZSwgaW5kZXhPclZhbHVlIGFzIG51bWJlcik7XHJcbn1cclxuIl19
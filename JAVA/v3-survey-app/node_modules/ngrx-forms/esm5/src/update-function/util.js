import { formArrayReducer } from '../array/reducer';
import { formControlReducer } from '../control/reducer';
import { formGroupReducer } from '../group/reducer';
import { isArrayState, isGroupState } from '../state';
export function abstractControlReducer(state, action) {
    if (isArrayState(state)) {
        return formArrayReducer(state, action);
    }
    if (isGroupState(state)) {
        return formGroupReducer(state, action);
    }
    return formControlReducer(state, action);
}
export function compose() {
    var fns = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        fns[_i] = arguments[_i];
    }
    return function (t) { return fns.reduce(function (res, f) { return f(res); }, t); };
}
export function ensureState(state) {
    if (!state) {
        throw new Error('state must not be undefined!');
    }
    return state;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25ncngtZm9ybXMvIiwic291cmNlcyI6WyJzcmMvdXBkYXRlLWZ1bmN0aW9uL3V0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDeEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEQsT0FBTyxFQUF3QixZQUFZLEVBQUUsWUFBWSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBSzVFLE1BQU0sVUFBVSxzQkFBc0IsQ0FBUyxLQUFtQyxFQUFFLE1BQWM7SUFDaEcsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDdkIsT0FBTyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsTUFBYSxDQUFRLENBQUM7S0FDdEQ7SUFFRCxJQUFJLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUN2QixPQUFPLGdCQUFnQixDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztLQUN4QztJQUVELE9BQU8sa0JBQWtCLENBQUMsS0FBWSxFQUFFLE1BQU0sQ0FBUSxDQUFDO0FBQ3pELENBQUM7QUFFRCxNQUFNLFVBQVUsT0FBTztJQUFJLGFBQXVCO1NBQXZCLFVBQXVCLEVBQXZCLHFCQUF1QixFQUF2QixJQUF1QjtRQUF2Qix3QkFBdUI7O0lBQ2hELE9BQU8sVUFBQyxDQUFJLElBQUssT0FBQSxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBTixDQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQWpDLENBQWlDLENBQUM7QUFDckQsQ0FBQztBQUVELE1BQU0sVUFBVSxXQUFXLENBQVMsS0FBeUI7SUFDM0QsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQztLQUNqRDtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcclxuXHJcbmltcG9ydCB7IGZvcm1BcnJheVJlZHVjZXIgfSBmcm9tICcuLi9hcnJheS9yZWR1Y2VyJztcclxuaW1wb3J0IHsgZm9ybUNvbnRyb2xSZWR1Y2VyIH0gZnJvbSAnLi4vY29udHJvbC9yZWR1Y2VyJztcclxuaW1wb3J0IHsgZm9ybUdyb3VwUmVkdWNlciB9IGZyb20gJy4uL2dyb3VwL3JlZHVjZXInO1xyXG5pbXBvcnQgeyBBYnN0cmFjdENvbnRyb2xTdGF0ZSwgaXNBcnJheVN0YXRlLCBpc0dyb3VwU3RhdGUgfSBmcm9tICcuLi9zdGF0ZSc7XHJcblxyXG5leHBvcnQgdHlwZSBQcm9qZWN0Rm48VD4gPSAodDogVCkgPT4gVDtcclxuZXhwb3J0IHR5cGUgUHJvamVjdEZuMjxULCBLPiA9ICh0OiBULCBrOiBLKSA9PiBUO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFic3RyYWN0Q29udHJvbFJlZHVjZXI8VFZhbHVlPihzdGF0ZTogQWJzdHJhY3RDb250cm9sU3RhdGU8VFZhbHVlPiwgYWN0aW9uOiBBY3Rpb24pOiBBYnN0cmFjdENvbnRyb2xTdGF0ZTxUVmFsdWU+IHtcclxuICBpZiAoaXNBcnJheVN0YXRlKHN0YXRlKSkge1xyXG4gICAgcmV0dXJuIGZvcm1BcnJheVJlZHVjZXIoc3RhdGUsIGFjdGlvbiBhcyBhbnkpIGFzIGFueTtcclxuICB9XHJcblxyXG4gIGlmIChpc0dyb3VwU3RhdGUoc3RhdGUpKSB7XHJcbiAgICByZXR1cm4gZm9ybUdyb3VwUmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmb3JtQ29udHJvbFJlZHVjZXIoc3RhdGUgYXMgYW55LCBhY3Rpb24pIGFzIGFueTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvc2U8VD4oLi4uZm5zOiAoKHQ6IFQpID0+IFQpW10pIHtcclxuICByZXR1cm4gKHQ6IFQpID0+IGZucy5yZWR1Y2UoKHJlcywgZikgPT4gZihyZXMpLCB0KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVN0YXRlPFRTdGF0ZT4oc3RhdGU6IFRTdGF0ZSB8IHVuZGVmaW5lZCk6IFRTdGF0ZSB7XHJcbiAgaWYgKCFzdGF0ZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdzdGF0ZSBtdXN0IG5vdCBiZSB1bmRlZmluZWQhJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc3RhdGU7XHJcbn1cclxuIl19
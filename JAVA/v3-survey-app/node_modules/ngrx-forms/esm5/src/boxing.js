export function isBoxed(value) {
    return !!value && value.__boxed === '';
}
export function box(value) {
    return {
        __boxed: '',
        value: value,
    };
}
export function unbox(value) {
    if (['string', 'boolean', 'number', 'undefined'].indexOf(typeof value) >= 0 || value === null) {
        return value;
    }
    if (isBoxed(value)) {
        return value.value;
    }
    if (Array.isArray(value)) {
        return value.map(unbox);
    }
    return Object.keys(value).reduce(function (a, k) {
        var _a;
        return Object.assign(a, (_a = {}, _a[k] = unbox(value[k]), _a));
    }, {});
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm94aW5nLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmdyeC1mb3Jtcy8iLCJzb3VyY2VzIjpbInNyYy9ib3hpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0JBLE1BQU0sVUFBVSxPQUFPLENBQVUsS0FBVTtJQUN6QyxPQUFPLENBQUMsQ0FBQyxLQUFLLElBQUssS0FBb0IsQ0FBQyxPQUFPLEtBQUssRUFBRSxDQUFDO0FBQ3pELENBQUM7QUFFRCxNQUFNLFVBQVUsR0FBRyxDQUFJLEtBQVE7SUFDN0IsT0FBTztRQUNMLE9BQU8sRUFBRSxFQUFFO1FBQ1gsS0FBSyxPQUFBO0tBQ04sQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLFVBQVUsS0FBSyxDQUFJLEtBQVE7SUFDL0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssSUFBSSxFQUFFO1FBQzdGLE9BQU8sS0FBOEIsQ0FBQztLQUN2QztJQUVELElBQUksT0FBTyxDQUFJLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLE9BQU8sS0FBSyxDQUFDLEtBQThCLENBQUM7S0FDN0M7SUFFRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDeEIsT0FBUSxLQUFhLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBZSxDQUFDO0tBQ2hEO0lBRUQsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQVksQ0FBQyxDQUFDLE1BQU0sQ0FDckMsVUFBQyxDQUFDLEVBQUUsQ0FBQzs7UUFBSyxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFJLEdBQUMsQ0FBQyxJQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBWSxDQUFRLENBQUMsTUFBRztJQUE1RCxDQUE0RCxFQUN0RSxFQUFTLENBQ0ksQ0FBQztBQUNsQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBCb3hlZDxUPiB7XHJcbiAgX19ib3hlZDogJyc7XHJcbiAgdmFsdWU6IFQ7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFVuYm94ZWRPYmplY3Q8VD4gPSB7XHJcbiAgW3Byb3AgaW4ga2V5b2YgVF06IFVuYm94ZWQ8VFtwcm9wXT47XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBVbmJveGVkPFQ+ID1cclxuICAvLyAoYWIpdXNlICdzeW1ib2wnIHRvIGNhdGNoICdhbnknIHR5cGluZ1xyXG4gIFQgZXh0ZW5kcyBCb3hlZDxzeW1ib2w+ID8gYW55XHJcbiAgOiBUIGV4dGVuZHMgQm94ZWQ8aW5mZXIgVT4gPyBVXHJcbiAgOiBUIGV4dGVuZHMgc3ltYm9sW10gPyBhbnlcclxuICA6IFQgZXh0ZW5kcyBzeW1ib2wgPyBhbnlcclxuICA6IFQgZXh0ZW5kcyB1bmRlZmluZWQgPyB1bmRlZmluZWRcclxuICA6IFQgZXh0ZW5kcyBudWxsID8gbnVsbFxyXG4gIDogVCBleHRlbmRzIHN0cmluZyA/IHN0cmluZ1xyXG4gIDogVCBleHRlbmRzIG51bWJlciA/IG51bWJlclxyXG4gIDogVCBleHRlbmRzIGJvb2xlYW4gPyBib29sZWFuXHJcbiAgOiBVbmJveGVkT2JqZWN0PFQ+O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQm94ZWQ8VCA9IGFueT4odmFsdWU6IGFueSk6IHZhbHVlIGlzIEJveGVkPFQ+IHtcclxuICByZXR1cm4gISF2YWx1ZSAmJiAodmFsdWUgYXMgQm94ZWQ8YW55PikuX19ib3hlZCA9PT0gJyc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBib3g8VD4odmFsdWU6IFQpOiBCb3hlZDxUPiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIF9fYm94ZWQ6ICcnLFxyXG4gICAgdmFsdWUsXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVuYm94PFQ+KHZhbHVlOiBUKTogVW5ib3hlZDxUPiB7XHJcbiAgaWYgKFsnc3RyaW5nJywgJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ3VuZGVmaW5lZCddLmluZGV4T2YodHlwZW9mIHZhbHVlKSA+PSAwIHx8IHZhbHVlID09PSBudWxsKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgYXMgdW5rbm93biBhcyBVbmJveGVkPFQ+O1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzQm94ZWQ8VD4odmFsdWUpKSB7XHJcbiAgICByZXR1cm4gdmFsdWUudmFsdWUgYXMgdW5rbm93biBhcyBVbmJveGVkPFQ+O1xyXG4gIH1cclxuXHJcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICByZXR1cm4gKHZhbHVlIGFzIGFueSkubWFwKHVuYm94KSBhcyBVbmJveGVkPFQ+O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbHVlIGFzIGFueSkucmVkdWNlKFxyXG4gICAgKGEsIGspID0+IE9iamVjdC5hc3NpZ24oYSwgeyBba106IHVuYm94KHZhbHVlW2sgYXMga2V5b2YgVF0gYXMgYW55KSB9KSxcclxuICAgIHt9IGFzIGFueSxcclxuICApIGFzIFVuYm94ZWQ8VD47XHJcbn1cclxuIl19